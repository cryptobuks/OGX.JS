if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.Popup=function(t){"use strict";function o(t){t?x.el.on("click",".ogx_popup_button",function(){var t=$(this).index();"object"==typeof X.buttons[t]?X.buttons[t].hasOwnProperty("callback")&&X.buttons[t].callback&&X.buttons[t].callback():x.el.trigger(OGX.Popup.CLICK_BUTTON,{index:t,value:X.buttons[t]})}):x.el.off("click",".ogx_popup_button")}function e(t){t?x.el.on(d,".ogx_popup_title",function(t){t=p(t),h=t.pageX,O=t.pageY,G=x.el.position().left,g=x.el.position().top,b=0,_=0,n(!0),$("body").on(f,function(t){t.preventDefault(),t.stopImmediatePropagation(),t=p(t),b=t.pageX-h,_=t.pageY-O}),$("body").on(c,function(t){n(!1),$("body").off(f),$("body").off(c),t=p(t),b=t.pageX-h,_=t.pageY-O})}):x.el.off(d,".ogx_popup_title")}function n(t){t?v||(v=setInterval(i,10)):v&&(clearInterval(v),v=null)}function i(){x.el.css({transform:"translate3D("+(G+b)+"px, "+(g+_)+"px, 0px)"})}function p(t){return t.hasOwnProperty("originalEvent")?t.originalEvent.changedTouches[0]:t}function l(){m=new OGX.Scroller({container:a.find(".ogx_popup_body:first")[0]})}function r(){var t=a.width(),o=a.height(),e=X.width,n=X.height;"string"==typeof e&&e.indexOf("%")!==-1&&(e=Number(e.split("%")[0]),e=Math.round(e*t/100)),"string"==typeof n&&n.indexOf("%")!==-1&&(n=Number(n.split("%")[0]),n=Math.round(n*o/100));var i=Math.round(t/2-e/2),p=Math.round(o/2-n/2),r="";X.zindex&&(r="zindex:"+X.zindex+";");var u='<div class="ogx_popup" style="width:'+e+"px; height:"+n+"px; transform:translate3d("+i+"px, "+p+"px, 0); "+r+'">';if(X.title&&(u+='<div class="ogx_popup_title">'+X.title+"</div>"),u+='<div class="ogx_popup_body '+X.css+'">',X.html?u+=X.html:X.template&&(u+=OGX.Templater.templatize(X.data,OGX.Templater.getTemplate(X.template))),u+="</div>",X.buttons.length>0){u+='<div class="ogx_popup_buttons">';for(var s=0;s<X.buttons.length;s++)u+="object"==typeof X.buttons[s]?'<span class="ogx_popup_button">'+X.buttons[s].label+"</span>":'<span class="ogx_popup_button">'+X.buttons[s]+"</span>";u+="</div>"}u+="</div>",a.prepend(u),X.scroll&&l()}function u(){for(var t in y)X.hasOwnProperty(t)||(X[t]=y[t]);switch(X.mode){case OGX.Popup.MODE_MOBILE:d="touchstart",c="touchend",f="touchmove";break;case OGX.Popup.MODE_DESKTOP:d="mousedown",c="mouseup",f="mousemove"}a=$(X.container),x.scroll=X.scroll,x.zindex=X.zindex,x.anim=X.anim}function s(){if("undefined"==typeof OGX.Templater)return void console.log("%c CRITICAL ERROR - OGX.Templater not found! ","background:#222; color: #FF0000");if(u(),r(),x.el=a.find(".ogx_popup:first"),a=x.el.find(".ogx_view:first"),X.scroll){if("undefined"==typeof OGX.Scroller)return void console.log("%c CRITICAL ERROR - OGX.Scroller not found! ","background:#222; color: #FF0000");view=x.el.find(".ogx_view:first"),m=new OGX.Scroller({container:view[0],init_delay:100,nartual_scroll:X.nartual_scroll}),view.on(OGX.Scroller.READY,function(){view.off(OGX.Scroller.READY),a=$(m.getInner()),x.el.trigger(OGX.Popup.READY),x.ready=!0})}X.buttons.length&&o(!0),X.drag&&e(!0),X.scroll||(x.ready=!0)}var a,c,d,f,g,h,O,b,_,v,m,x=this,X=t,y={container:!1,width:"80%",height:"80%",top:"center",left:"center",html:!1,template:!1,title:!1,css:"",view:!1,drag:!1,scroll:!1,data:{},buttons:[],anim:OGX.Popup.ANIM_FADE,listen_overlay:!1,zindex:0,mode:OGX.Popup.MODE_MOBILE},G=!1;this.snooze=!1,this.scroll=!1,this.views={},this.anim=null,this.el=null,this.zindex=null,this.ready=!1,this.blur=function(){X.buttons.length&&o(!1)},this.focus=function(){X.buttons.length&&o(!0)},this.resize=function(t,o){},this.destroy=function(){X.buttons.length&&o(!1),X.drag&&(e(!1),n(!1)),X.scroll&&m&&m.destroy()},s()},OGX.Popup=function(t){"use strict";return new OGX.prototype.Popup(t)},OGX.Popup.READY="popupReady",OGX.Popup.CLICK_BUTTON="popupClickButton",OGX.Popup.MODE_DESKTOP="modeDesktop",OGX.Popup.MODE_MOBILE="modeMobile",OGX.Popup.NOANIM="popupNoAnim",OGX.Popup.ANIM_FADE="popupAnimFade";