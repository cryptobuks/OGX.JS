if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.Popup=function(t){"use strict";function o(t){t?m.el.on("click",".ogx_popup_button",function(){m.el.trigger(OGX.Popup.CLICK_BUTTON,{index:$(this).index(),value:$(this).html()})}):m.el.off("click",".ogx_popup_button")}function e(t){t?m.el.on(c,".ogx_popup_title",function(t){t=p(t),g=t.pageX,h=t.pageY,b=m.el.position().left,f=m.el.position().top,O=0,_=0,n(!0),$("body").on(d,function(t){t.preventDefault(),t.stopImmediatePropagation(),t=p(t),O=t.pageX-g,_=t.pageY-h}),$("body").on(a,function(t){n(!1),$("body").off(d),$("body").off(a),t=p(t),O=t.pageX-g,_=t.pageY-h})}):m.el.off(c,".ogx_popup_title")}function n(t){t?v||(v=setInterval(i,10)):v&&(clearInterval(v),v=null)}function i(){m.el.css({transform:"translate3D("+(b+O)+"px, "+(f+_)+"px, 0px)"})}function p(t){return t.hasOwnProperty("originalEvent")?t.originalEvent.changedTouches[0]:t}function l(){var t=s.width(),o=s.height(),e=x.width,n=x.height;"string"==typeof e&&e.indexOf("%")!==-1&&(e=Number(e.split("%")[0]),e=Math.round(e*t/100)),"string"==typeof n&&n.indexOf("%")!==-1&&(n=Number(n.split("%")[0]),n=Math.round(n*o/100));var i=Math.round(t/2-e/2),p=Math.round(o/2-n/2),l="";x.zindex&&(l="zindex:"+x.zindex+";");var r='<div class="ogx_popup" style="width:'+e+"px; height:"+n+"px; transform:translate3d("+i+"px, "+p+"px, 0); "+l+'">';if(x.title&&(r+='<div class="ogx_popup_title">'+x.title+"</div>"),r+='<div class="ogx_popup_body '+x.css+'">',x.html?r+=x.html:x.template&&(r+=OGX.Templater.getTemplate(x.template)),r+="</div>",x.buttons.length>0){r+='<div class="ogx_popup_buttons">';for(var u=0;u<x.buttons.length;u++)r+='<span class="ogx_popup_button">'+x.buttons[u]+"</span>";r+="</div>"}r+="</div>",s.prepend(r)}function r(){for(var t in X)x.hasOwnProperty(t)||(x[t]=X[t]);switch(x.mode){case OGX.Popup.MODE_MOBILE:c="touchstart",a="touchend",d="touchmove";break;case OGX.Popup.MODE_DESKTOP:c="mousedown",a="mouseup",d="mousemove"}s=$(x.container)}function u(){if("undefined"==typeof OGX.Templater)return void console.log("%c CRITICAL ERROR - OGX.Templater not found! ","background:#222; color: #FF0000");if(r(),l(),m.el=s.find(".ogx_popup:first"),s=m.el.find(".ogx_view:first"),x.scroll){if("undefined"==typeof OGX.Scroller)return void console.log("%c CRITICAL ERROR - OGX.Scroller not found! ","background:#222; color: #FF0000");view=m.el.find(".ogx_view:first"),scroller=new OGX.Scroller({container:view[0],init_delay:100,nartual_scroll:x.nartual_scroll}),view.on(OGX.Scroller.READY,function(){view.off(OGX.Scroller.READY);var t=scroller.getOuter(),o=$(window).height();x.style!==OGX.Window.STYLE_NONE&&(o-=m.el.find(".ogx_window_head:first").height()),$(t).css("height",o+"px"),s=$(scroller.getInner())})}x.buttons.length&&o(!0),x.drag&&e(!0)}var s,a,c,d,f,g,h,O,_,v,m=this,x=t,X={container:!1,width:"80%",height:"80%",top:"center",left:"center",html:!1,template:!1,title:!1,css:"",view:!1,drag:!1,scroll:!1,config:{},buttons:[],anim:OGX.Popup.ANIM_FADE,listen_overlay:!1,zindex:0,mode:OGX.Popup.MODE_MOBILE},b=!1;this.el=null,this.blur=function(){x.buttons.length&&o(!1)},this.focus=function(){x.buttons.length&&o(!0)},this.destroy=function(){x.buttons.length&&o(!1),x.drag&&(e(!1),n(!1))},u()},OGX.Popup=function(t){"use strict";return new OGX.prototype.Popup(t)},OGX.Popup.CLICK_BUTTON="popupClickButton",OGX.Popup.MODE_DESKTOP="modeDesktop",OGX.Popup.MODE_MOBILE="modeMobile",OGX.Popup.NOANIM="popupNoAnim",OGX.Popup.ANIM_FADE="popupAnimFade";