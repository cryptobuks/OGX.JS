if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.Popup=function(t){"use strict";function o(t){t?v.el.on("click",".ogx_popup_button",function(){var t=$(this).index();"object"==typeof y.buttons[t]?y.buttons[t].hasOwnProperty("callback")&&y.buttons[t].callback&&(y.buttons[t].hasOwnProperty("params")?"array"==typeof y.buttons[t].params?y.buttons[t].callback.apply(null,y.buttons[t].params):y.buttons[t].callback.apply(null,[y.buttons[t].params]):y.buttons[t].callback()):v.el.trigger(OGX.Popup.CLICK_BUTTON,{index:t,value:y.buttons[t]})}):v.el.off("click",".ogx_popup_button")}function e(t){t?v.el.on(c,".ogx_popup_title",function(t){t=i(t),h=t.pageX,b=t.pageY,X=v.el.position().left,f=v.el.position().top,g=0,O=0,n(!0),$("body").on(d,function(t){t.preventDefault(),t.stopImmediatePropagation(),t=i(t),g=t.pageX-h,O=t.pageY-b}),$("body").on(a,function(t){n(!1),$("body").off(d),$("body").off(a),t=i(t),g=t.pageX-h,O=t.pageY-b})}):v.el.off(c,".ogx_popup_title")}function n(t){t?m||(m=setInterval(p,10)):m&&(clearInterval(m),m=null)}function p(){v.el.css({transform:"translate3D("+(X+g)+"px, "+(f+O)+"px, 0px)"})}function i(t){return t.hasOwnProperty("originalEvent")?t.originalEvent.changedTouches[0]:t}function l(){var t=s.width(),o=s.height(),e=y.width,n=y.height;"string"==typeof e&&e.indexOf("%")!==-1&&(e=Number(e.split("%")[0]),e=Math.round(e*t/100)),"string"==typeof n&&n.indexOf("%")!==-1&&(n=Number(n.split("%")[0]),n=Math.round(n*o/100));var p=Math.round(t/2-e/2),i=Math.round(o/2-n/2),l="";y.zindex&&(l="zindex:"+y.zindex+";");var u='<div class="ogx_popup" style="width:'+e+"px; height:"+n+"px; transform:translate3d("+p+"px, "+i+"px, 0); "+l+'">';if(y.title&&(u+='<div class="ogx_popup_title">'+y.title+"</div>"),u+='<div class="ogx_popup_body '+y.css+'">',y.html?u+=y.html:y.template&&(u+=OGX.Templater.templatize(y.data,OGX.Templater.getTemplate(y.template))),u+="</div>",y.buttons.length>0){u+='<div class="ogx_popup_buttons">';for(var r=0;r<y.buttons.length;r++)u+="object"==typeof y.buttons[r]?'<span class="ogx_popup_button">'+y.buttons[r].label+"</span>":'<span class="ogx_popup_button">'+y.buttons[r]+"</span>";u+="</div>"}u+="</div>",s.prepend(u)}function u(){for(var t in x)y.hasOwnProperty(t)||(y[t]=x[t]);switch(y.mode){case OGX.Popup.MODE_MOBILE:c="touchstart",a="touchend",d="touchmove";break;case OGX.Popup.MODE_DESKTOP:c="mousedown",a="mouseup",d="mousemove"}s=$(y.container),v.scroll=y.scroll,v.zindex=y.zindex,v.anim=y.anim}function r(){if("undefined"==typeof OGX.Templater)return void console.log("%c CRITICAL ERROR - OGX.Templater not found! ","background:#222; color: #FF0000");if(u(),l(),v.el=s.find(".ogx_popup:first"),s=v.el.find(".ogx_view:first"),y.scroll){if("undefined"==typeof OGX.Scroller)return void console.log("%c CRITICAL ERROR - OGX.Scroller not found! ","background:#222; color: #FF0000");view=v.el.find(".ogx_popup_body:first"),_=new OGX.Scroller({container:view[0],init_delay:100,observe:!0,nartual_scroll:y.nartual_scroll}),view.on(OGX.Scroller.READY,function(){view.off(OGX.Scroller.READY),s=_.getContainer(),v.el.trigger(OGX.Popup.READY),v.ready=!0})}else v.ready=!0;y.buttons.length&&o(!0),y.drag&&e(!0),y.scroll||(v.ready=!0)}var s,a,c,d,f,h,b,g,O,m,_,v=this,y=t,x={container:!1,width:"80%",height:"80%",top:"center",left:"center",html:!1,template:!1,title:!1,css:"",view:!1,drag:!1,scroll:!1,data:{},buttons:[],anim:OGX.Popup.ANIM_FADE,listen_overlay:!1,zindex:0,mode:OGX.Popup.MODE_MOBILE},X=!1;this.snooze=!1,this.scroll=!1,this.views={},this.anim=null,this.el=null,this.zindex=null,this.ready=!1,this.blur=function(){y.buttons.length&&o(!1),v.snooze=!0},this.focus=function(){y.buttons.length&&o(!0),v.snooze=!1},this.resize=function(t,o){},this.updateScroller=function(){_&&_.update()},this.destroy=function(){y.buttons.length&&o(!1),y.drag&&(e(!1),n(!1)),y.scroll&&_&&_.destroy()},r()},OGX.Popup=function(t){"use strict";return new OGX.prototype.Popup(t)},OGX.Popup.READY="popupReady",OGX.Popup.CLICK_BUTTON="popupClickButton",OGX.Popup.MODE_DESKTOP="modeDesktop",OGX.Popup.MODE_MOBILE="modeMobile",OGX.Popup.NOANIM="popupNoAnim",OGX.Popup.ANIM_FADE="popupAnimFade";