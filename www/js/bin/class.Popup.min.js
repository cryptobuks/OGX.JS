if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.Popup=function(t){"use strict";function o(t){t?v.el.on("click",".ogx_popup_button",function(){var t=$(this).index();"object"==typeof x.buttons[t]?x.buttons[t].hasOwnProperty("callback")&&x.buttons[t].callback&&(x.buttons[t].hasOwnProperty("params")?x.buttons[t].callback.apply(null,[x.buttons[t].params]):x.buttons[t].callback()):v.el.trigger(OGX.Popup.CLICK_BUTTON,{index:t,value:x.buttons[t]})}):v.el.off("click",".ogx_popup_button")}function e(t){t?v.el.on(c,".ogx_popup_title",function(t){t=i(t),h=t.pageX,g=t.pageY,X=v.el.position().left,f=v.el.position().top,O=0,b=0,n(!0),$("body").on(d,function(t){t.preventDefault(),t.stopImmediatePropagation(),t=i(t),O=t.pageX-h,b=t.pageY-g}),$("body").on(a,function(t){n(!1),$("body").off(d),$("body").off(a),t=i(t),O=t.pageX-h,b=t.pageY-g})}):v.el.off(c,".ogx_popup_title")}function n(t){t?_||(_=setInterval(p,10)):_&&(clearInterval(_),_=null)}function p(){v.el.css({transform:"translate3D("+(X+O)+"px, "+(f+b)+"px, 0px)"})}function i(t){return t.hasOwnProperty("originalEvent")?t.originalEvent.changedTouches[0]:t}function l(){var t=s.width(),o=s.height(),e=x.width,n=x.height;"string"==typeof e&&e.indexOf("%")!==-1&&(e=Number(e.split("%")[0]),e=Math.round(e*t/100)),"string"==typeof n&&n.indexOf("%")!==-1&&(n=Number(n.split("%")[0]),n=Math.round(n*o/100));var p=Math.round(t/2-e/2),i=Math.round(o/2-n/2),l="";x.zindex&&(l="zindex:"+x.zindex+";");var u='<div class="ogx_popup" style="width:'+e+"px; height:"+n+"px; transform:translate3d("+p+"px, "+i+"px, 0); "+l+'">';if(x.title&&(u+='<div class="ogx_popup_title">'+x.title+"</div>"),u+='<div class="ogx_popup_body '+x.css+'">',x.html?u+=x.html:x.template&&(u+=OGX.Templater.templatize(x.data,OGX.Templater.getTemplate(x.template))),u+="</div>",x.buttons.length>0){u+='<div class="ogx_popup_buttons">';for(var r=0;r<x.buttons.length;r++)u+="object"==typeof x.buttons[r]?'<span class="ogx_popup_button">'+x.buttons[r].label+"</span>":'<span class="ogx_popup_button">'+x.buttons[r]+"</span>";u+="</div>"}u+="</div>",s.prepend(u)}function u(){for(var t in y)x.hasOwnProperty(t)||(x[t]=y[t]);switch(x.mode){case OGX.Popup.MODE_MOBILE:c="touchstart",a="touchend",d="touchmove";break;case OGX.Popup.MODE_DESKTOP:c="mousedown",a="mouseup",d="mousemove"}s=$(x.container),v.scroll=x.scroll,v.zindex=x.zindex,v.anim=x.anim}function r(){if("undefined"==typeof OGX.Templater)return void console.log("%c CRITICAL ERROR - OGX.Templater not found! ","background:#222; color: #FF0000");if(u(),l(),v.el=s.find(".ogx_popup:first"),s=v.el.find(".ogx_view:first"),x.scroll){if("undefined"==typeof OGX.Scroller)return void console.log("%c CRITICAL ERROR - OGX.Scroller not found! ","background:#222; color: #FF0000");var t=v.el.find(".ogx_popup_body:first");m=new OGX.Scroller({container:t[0],init_delay:100,observe:!0,nartual_scroll:x.nartual_scroll}),t.on(OGX.Scroller.READY,function(){t.off(OGX.Scroller.READY),s=m.getContainer(),v.el.trigger(OGX.Popup.READY),v.ready=!0})}else v.ready=!0;x.buttons.length&&o(!0),x.drag&&e(!0),x.scroll||(v.ready=!0)}var s,a,c,d,f,h,g,O,b,_,m,v=this,x=t,y={container:!1,width:"80%",height:"80%",top:"center",left:"center",html:!1,template:!1,title:!1,css:"",view:!1,drag:!1,scroll:!1,data:{},buttons:[],anim:OGX.Popup.ANIM_FADE,listen_overlay:!1,zindex:0,mode:OGX.Popup.MODE_MOBILE},X=!1;this.snooze=!1,this.scroll=!1,this.views={},this.anim=null,this.el=null,this.zindex=null,this.ready=!1,this.blur=function(){x.buttons.length&&o(!1),v.snooze=!0},this.focus=function(){x.buttons.length&&o(!0),v.snooze=!1},this.resize=function(t,o){},this.updateScroller=function(){m&&m.update()},this.destroy=function(){x.buttons.length&&o(!1),x.drag&&(e(!1),n(!1)),x.scroll&&m&&m.destroy()},r()},OGX.Popup=function(t){"use strict";return new OGX.prototype.Popup(t)},OGX.Popup.READY="popupReady",OGX.Popup.CLICK_BUTTON="popupClickButton",OGX.Popup.MODE_DESKTOP="modeDesktop",OGX.Popup.MODE_MOBILE="modeMobile",OGX.Popup.NOANIM="popupNoAnim",OGX.Popup.ANIM_FADE="popupAnimFade";