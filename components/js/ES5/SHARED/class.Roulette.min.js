if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.Roulette=function(t){"use strict";function e(t){t?c.on("mousedown",function(t){console.log("down"),t.preventDefault(),t.stopImmediatePropagation(),_=(new Date).getTime(),h=t.pageY,v=t.pageY,o(!0),e(!1),n(!0),a(!0)}):c.off("mousedown")}function o(t){if(t){var i,r,s,u,p;$(document).on("mouseup",function(t){console.log("up"),a(!1),n(!1),o(!1),e(!0),t.preventDefault(),t.stopImmediatePropagation(),x=(new Date).getTime(),m=t.pageY,i=Math.abs(m-h),i>g?i=g:null,w=m>h?1:-1,r=i/(x-_)*O.force_coef,s=l(f),console.log("trans",s),p=Math.round(s/g)*w,i=p*g-s*w,u=Math.round(r*O.time_coef*100)/100,console.log("on tile",p,"dist",i,"trans",s,"time",u,"force",r),f.css({transition:"all 0.2s ease-out",transform:"translate3D(0px, "+(s+i*w)+"px, 0px)"})})}else $(document).off("mouseup")}function n(t){if(t){var e,o;$(document).on("mousemove",function(t){console.log("move"),t.preventDefault(),t.stopImmediatePropagation(),o=t.pageY>v?1:-1,o!==w?(e=0,v=t.pageY):(e=t.pageY-v,v=t.pageY),w=o,f.css({transition:"none",transform:"translate3D(0px, "+(l(f)+e)+"px, 0px)"})})}else $(document).off("mousemove")}function a(t){t?D=setInterval(i,10):clearInterval(D)}function i(){var t,e,o;t=Math.floor((f.position().top+g*w)/(g*O.data.length)*-1),t!==I&&(0===f.children('.ogx_roulette_stripe[data-id="'+t+'"]').length&&(e=Y.clone(),e.css("top",t*(g*O.data.length)+"px"),e.attr("data-id",t),f.append(e)),f.children(".ogx_roulette_stripe").each(function(t,e){if(o=f.position().top+$(e).position().top,Math.ceil(o+g*O.data.length)<-g||o>g)return void $(e).remove()}),I=t)}function r(){for(var t='<div class="ogx_roulette_stripes">',e=0;e<2;e++){t+='<div class="ogx_roulette_stripe" style="top:'+e*(O.data.length*g)+'px;" data-id="'+e+'">';for(var o=0;o<O.data.length;o++)t+='<div class="ogx_roulette_block" style="width:'+d+"px; height:"+g+"px; line-height:"+g+'px;"><span class="ogx_roulette_block_label">'+O.data[o].label+"</span></div>";t+="</div>"}t+="</div>",c.html(t),f=c.children(".ogx_roulette_stripes:first"),y=f.children(".ogx_roulette_stripe:first"),Y=f.children(".ogx_roulette_stripe:last"),Y=Y.detach();var n=s(O.value);f.css({transition:"none",transform:"translate3D(0px, "+-n*g+"px, 0px)"})}function s(t){for(var e=0;e<O.data.length;e++)if(O.data[e].value===t)return e}function l(t){var e=0;return"none"!==t.css("transform")&&(e=Number(t.css("transform").split(",")[5].split(")")[0])),e}function u(){for(var t in G)O.hasOwnProperty(t)||(O[t]=G[t]);c=b.el=$(O.container),c.addClass("ogx_roulette"),d=c.width(),g=c.height()}function p(){u(),r(),e(!0)}var c,f,d,g,h,m,v,_,x,w,D,y,Y,b=this,O=t,G={force_coef:10,time_coef:.1,min_force_pitch:2,value:0},I=0;this.el=null,this.val=function(t,e){if("undefined"==typeof e)var e=!0;O.val=t},p()},OGX.Roulette=function(t){"use strict";return new OGX.prototype.Roulette(t)};