if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.Roulette=function(t){"use strict";function e(t){t?d.on("mousedown",function(t){t.preventDefault(),t.stopImmediatePropagation(),_=(new Date).getTime(),g=t.pageY,o(!0),e(!1),n(!0)}):d.off("mousedown")}function o(t){if(t){var r,s,u,c,d;$(document).on("mouseup",function(t){a(!1),i(!1),n(!1),t.preventDefault(),t.stopImmediatePropagation(),x=(new Date).getTime(),m=t.pageY,r=Math.abs(m-g),r>h?r=h:null,w=m>g?1:-1,s=r/(x-_)*O.force_coef,o(!1),e(!0),u=Math.round(s*O.throw_coef),u>4?u=4:null,c=s*r*w,c=Math.round(c/h)*h,Math.abs(c)>h*O.data.length?c=h*O.data.length*w:null,c=Math.abs(c)*w,c?(d=l(f),c=d+c,c=Math.round(c/h)*h,console.log("distance",r,"force",s,"dir",w,"length",u,"move",c),f.css({transition:"all "+u+"s ease-out",transform:"translate3D(0px, "+c+"px, 0px)"}),a(!0),i(!0)):console.log("no y",c)})}else $(document).off("mouseup")}function n(t){if(t){var e,o=g;$(document).on("mousemove",function(t){t.preventDefault(),t.stopImmediatePropagation(),v=t.pageY,e=v-o,o=v,f.css({transition:"none",transform:"translate3D(0px, "+(l(f)+e)+"px, 0px)"}),console.log("distance",e)})}else $(document).off("mousemove")}function a(t){t?b=setInterval(r,50):clearInterval(b)}function i(t){t?f.on("transitionend",function(){a(!1),i(!1)}):f.off("transitionend")}function r(){var t,e,o;t=Math.floor((f.position().top+h*w)/(h*O.data.length)*-1),t!==I&&(0===f.children('.ogx_roulette_stripe[data-id="'+t+'"]').length&&(console.log("add",t),e=y.clone(),e.css("top",t*(h*O.data.length)+"px"),e.attr("data-id",t),f.append(e)),f.children(".ogx_roulette_stripe").each(function(t,e){if(o=f.position().top+$(e).position().top,Math.ceil(o+h*O.data.length)<-h||o>h)return void $(e).remove()}),I=t)}function s(){for(var t='<div class="ogx_roulette_stripes">',e=0;e<2;e++){t+='<div class="ogx_roulette_stripe" style="top:'+e*(O.data.length*h)+'px;" data-id="'+e+'">';for(var o=0;o<O.data.length;o++)t+='<div class="ogx_roulette_block" style="width:'+p+"px; height:"+h+"px; line-height:"+h+'px;"><span class="ogx_roulette_block_label">'+O.data[o].label+"</span></div>";t+="</div>"}t+="</div>",d.html(t),f=d.children(".ogx_roulette_stripes:first"),M=f.children(".ogx_roulette_stripe:first"),y=f.children(".ogx_roulette_stripe:last"),y=y.detach()}function l(t){var e=0;return"none"!==t.css("transform")&&(e=Number(t.css("transform").split(",")[5].split(")")[0])),e}function u(){for(var t in G)O.hasOwnProperty(t)||(O[t]=G[t]);d=D.el=$(O.container),d.addClass("ogx_roulette"),p=d.width(),h=d.height()}function c(){u(),s(),e(!0)}var d,f,p,h,g,m,v,_,x,w,b,M,y,D=this,O=t,G={force_coef:10,throw_coef:.25},I=0;this.el=null,c()},OGX.Roulette=function(t){"use strict";return new OGX.prototype.Roulette(t)};