if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.GroupedList=function(e){"use strict";function t(e){var t,o,n=[];for(var i in e){o=u.group_mode?i:e[i][0].item[u.group_by],t={title:o,body:"",scopes:["public"],open:!0};for(var r=0;r<e[i].length;r++)t.body+='<span class="ogx_grouped_list_item '+u.css+'" data-id="'+e[i][r].pos+'">'+OGX.Templater.templatize(e[i][r].item,u.template)+"</span>";n.push(t)}return n}function o(e){e?d.el.on("click",".ogx_grouped_list_item",function(){d.el.find(".ogx_grouped_list_selected_item").removeClass("ogx_grouped_list_selected_item"),$(this).addClass("ogx_grouped_list_selected_item");var e=u.list[Number($(this).data("id"))];d.el.trigger(OGX.GroupedList.SELECT,e)}):d.el.off("click",".ogx_grouped_list_item")}function n(){for(var e in a)u.hasOwnProperty(e)||(u[e]=a[e]);u.list.length>0&&!u.list.hasOwnProperty("insert")&&(u.list=new OGX.List(u.list)),d.el=r=$(u.container),r.addClass("ogx_grouped_list")}function i(){if("undefined"==typeof moment)return void console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000");if("undefined"==typeof OGX.List)return void console.log("%c CRITICAL ERROR - OGX.List not found! ","background:#222; color: #FF0000");if("undefined"==typeof OGX.Templater)return void console.log("%c CRITICAL ERROR - OGX.Templater not found! ","background:#222; color: #FF0000");if("undefined"==typeof OGX.NestedList)return void console.log("%c CRITICAL ERROR - OGX.NestedList not found! ","background:#222; color: #FF0000");n(),l=u.list.group(u.group_by,u.group_mode,u.group_param);var e=t(l);s=new OGX.NestedList({container:u.container,enabled:u.enabled,data:e}),u.enabled&&o(!0)}var r,s,l,d=this,u=e,a={group_by:"name",group_mode:null,group_param:null,sort:null,template:"",css:"",enabled:!0,list:new OGX.List};this.el=null,this.enable=function(){u.enabled||(u.enabled=!0,o(!0),s.enable())},this.disable=function(){u.enabled&&(u.enabled=!1,o(!1),s.disable())},this.val=function(e){return"undefined"==typeof e?l:(u.list=e,void s.setData(t(l)))},this.render=function(){return!!u.list&&(l=groupItems(),s.setData(t(l)),!0)},this.getNested=function(){return!!s&&s},this.destroy=function(){o(!1),s.destroy()},i()},OGX.GroupedList=function(e){"use strict";return new OGX.prototype.GroupedList(e)},OGX.GroupedList.SELECT="select";