if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.GroupedList=function(o){"use strict";function t(o){o?(a.on("click",".ogx_grouped_list_group",function(o){$(this).hasClass("ogx_grouped_list_group_opened")?($(this).removeClass("ogx_grouped_list_group_opened"),$(this).addClass("ogx_grouped_list_group_closed"),$(this).next().css("display","none")):($(this).removeClass("ogx_grouped_list_group_closed"),$(this).addClass("ogx_grouped_list_group_opened"),$(this).next().css("display","block"))}),a.on("click",".ogx_grouped_list_item",function(o){var t=parseInt($(this).data("pos"));a.trigger(OGX.GroupedList.SELECT,d.list[t])})):(a.off("click",".ogx_grouped_list_item"),a.off("click",".ogx_grouped_list_group"))}function r(){var o,t="",r="";d.css&&(r=" "+d.css);for(var s in _){t+='<span class="ogx_grouped_list_group">'+s+'</span><ul class="ogx_grouped_list_items">';for(var e=0;e<_[s].length;e++)o=i(d.list[_[s][e].pos]),t+='<li class="ogx_grouped_list_item'+r+'" data-pos="'+_[s][e].pos+'">'+o+"</li>";t+="</ul>"}a.html(t),a.find(".ogx_grouped_list_group").each(function(o,t){$(t).next().children().length>0&&$(t).addClass("ogx_grouped_list_group_opened")})}function s(o,t){e(o,t),r()}function e(o,t){var r=d.list;return r.sort(n(o,t)),r}function n(o,t){return function(r,s){return r[o]<s[o]?t*-1:r[o]>s[o]?t:0}}function i(o){var t,r=d.template;for(var s in o)t=new RegExp("\\$"+s,"g"),r=r.replace(t,o[s]);return r}function u(o){if(o.hasOwnProperty(d.groupBy)){var t=o[d.groupBy];if(!d.groupOption)return t;switch(d.groupOption){case"subs":return t=t.substr(d.groupOptionValue[0],d.groupOptionValue[1]);case"numrange":if(t=Number(t),t>=d.groupOptionValue[0]&&t<=d.groupOptionValue[1])return t;break;case"daterange":}}return!1}function p(){for(var o,t={},r=0;r<d.list.length;r++)o=u(d.list[r]),o&&(t.hasOwnProperty(o)||(t[o]=[]),t[o].push({item:d.list[r],pos:r}));return t}function l(){for(var o in f)d.hasOwnProperty(o)||(d[o]=f[o]);c.el=a=$(d.container),a.addClass("ogx_grouped_list")}function g(){l(),d.sortProp&&s(d.sort.prop,d.sort.way),_=p(),r(),t(!0)}var a,_,c=this,d=o,f={groupBy:"name",css:null,sort:{prop:null,way:null},groupOption:null,groupOptionValue:null};this.el=null,this.destroy=function(){t(!1)},g()},OGX.GroupedList=function(o){"use strict";return new OGX.prototype.GroupedList(o)},OGX.GroupedList.SELECT="select";