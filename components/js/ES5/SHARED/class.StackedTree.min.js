if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.StackedTree=function(e){"use strict";function t(e){e?(d.on("click",".ogx_stacked_tree_item",function(){var e=$(this).data("path").split("_"),t=a(e);f=t.label;var s=n(e);s?d.trigger(OGX.StackedTree.CHANGE,t):d.trigger(OGX.StackedTree.SELECT,t)}),d.on("click",".ogx_stacked_tree_back",function(){var e=$(this).data("path").split("_"),t=a(e);i(parseInt($(this).data("lv"))),d.trigger(OGX.StackedTree.CHANGE,t)})):(d.off("click",".ogx_stacked_tree_item"),d.off("click",".ogx_stacked_tree_back"))}function a(e){var t=g.data,a=e.slice();for(a.shift();a.length>0;)t.hasOwnProperty("items")&&(t=t.items[a[0]]),a.shift();return t}function s(e){return 1===e.length?0:e.length-1}function n(e){var t,n;t=1===e.length?g.data:a(e),h=e;var c=s(e);if(t&&t.hasOwnProperty("items")){0===_.find(".ogx_stacked_tree_level"+c+":first").length&&_.append('<div class="ogx_stacked_tree_level ogx_stacked_tree_level'+c+'" data-lv="'+c+'"></div>'),n=_.find(".ogx_stacked_tree_level"+c+":first"),n.empty(),n.css("left",c*p+"px");var o,l,d="<ul>",u=e.slice();u=u.join("_"),c>0&&(d+='<li data-path="'+u+'" data-lv="'+(c-1)+'" class="ogx_stacked_tree_back"><span class="ogx_stacked_tree_item_label">'+f+"</span></li>");for(var k=0;k<t.items.length;k++)r(t.items[k])&&(o="",(!t.items[k].hasOwnProperty("items")||t.items[k].hasOwnProperty("items")&&0===t.items[k].length)&&(o=" ogx_stacked_tree_end"),l=u+"_"+k,d+='<li data-path="'+l+'" class="ogx_stacked_tree_item'+o+'"><span class="ogx_stacked_tree_item_label">'+t.items[k].label+"</span></li>");return d+="</ul>",n.html(d),i(c),!0}return!1}function i(e){_.off("transitionend"),_.css("transition","all ."+g.speed/100+"s"),_.css("transform","translateX("+e*p*-1+"px)")}function r(e){if(e.hasOwnProperty("scopes"))for(var t=0;t<e.scopes.length;t++)if(g.scopes.indexOf(e.scopes[t])!==-1)return!0;return!1}function c(){d=$(g.container),d.addClass("ogx_stacked_tree"),d.html('<div class="ogx_stacked_tree_container"></div>'),_=d.find(".ogx_stacked_tree_container:first"),u.el=d,p=d.innerWidth()}function o(){for(var e in k)g.hasOwnProperty(e)||(g[e]=k[e]);var t=g.data.slice();g.data={items:t}}function l(){o(),c(),n([0]),g.enabled&&t(!0)}var d,_,f,h,p,u=this,k={scopes:["public"],speed:200,enabled:!0},g=e;this.el=null,this.refresh=function(){p=d.innerWidth(),n(h)},this.setScopes=function(e){g.scopes=e,n([0])},this.setPath=function(e){h=e,n(h)},this.enable=function(){g.enabled||(g.enabled=!0,t(!0))},this.disable=function(){g.enabled&&(g.enabled=!1,t(!1))},this.destroy=function(){t(!1)},l()},OGX.StackedTree=function(e){"use strict";return new OGX.prototype.StackedTree(e)},OGX.StackedTree.CHANGE="stackedTreeChange",OGX.StackedTree.SELECT="stackedTreeSelect";