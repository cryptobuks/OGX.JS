if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.FlexCalendar=function(e){"use strict";function a(){switch(v.find(".ogx_flex_calendar_date:first").html(I.date.format(I.format)),I.view){case OGX.FlexCalendar.VIEW_MONTH:setTimeout(function(){n(),F||(F=1e3*Number($(".ogx_flex_calendar_day").css("transition-duration").split("s")[0]))},0);break;case OGX.FlexCalendar.VIEW_WEEK:l();break;case OGX.FlexCalendar.VIEW_DAY:d()}}function n(){var e=moment().format("YYYY-MM-DD"),a=I.date.clone();a.subtract(1,"month");for(var n,l,d,t,i,o,_,s,f=O.el.children(".ogx_infinite_swiper:first").children(".ogx_infinite_swiper_container:first"),c=0;c<3;c++){n=f.children(".ogx_infinite_swiper_item:eq("+c+")"),l=a.daysInMonth(),d="",o=a.format("YYYY-MM"),t=moment(o+"-01"),i=t.weekday();for(var x=0;x<i;x++)d+='<div class="ogx_flex_calendar_day ogx_flex_calendar_offset"></div>';for(x=0;x<l;x++)s=o+"-"+r(String(x+1),2,"0"),_="",s===e&&(_+=" ogx_flex_calendar_today_day"),d+='<div class="ogx_flex_calendar_day'+_+'" data-date="'+s+'"><span class="ogx_flex_calendar_day_label">'+(x+1)+'</span><span class="ogx_flex_calendar_day_content" style="height:'+E+'px;"></span></div>';for(x=0;x<42-i-l;x++)d+='<div class="ogx_flex_calendar_day ogx_flex_calendar_offset"></div>';n.html(d),I.render&&I.render.month&&I.data&&n.children(".ogx_flex_calendar_day[data-date]").each(function(e,a){D.month.render($(a).children(".ogx_flex_calendar_day_content:first"),I.data,o+"-"+r(String(e+1),2,"0"))}),a.add(1,"month")}}function r(e,a,n){if(e.length===a)return e;for(;e.length<a;)e=n+e;return e}function l(){var e=I.date.clone();e.subtract(14,"days");for(var a,n,r,l=O.el.find(".ogx_infinite_swiper_container:first"),d=0;d<3;d++){a=l.children(".ogx_infinite_swiper_item:eq("+d+")"),n=7,r="";for(var t=0;t<n;t++)r+='<div class="ogx_flex_calendar_day ogx_flex_calendar_week"><span class="ogx_flex_calendar_day_label">'+e.add(1,"days").format("DD")+'</span><span class="ogx_flex_calendar_day_content"></span></div>';a.html(r)}}function d(){var e=I.date.clone();e.subtract(2,"day");var a,n,r=w.el.find(".ogx_infinite_swiper_container:first");v.find(".ogx_flex_calendar_days:first").children(".ogx_flex_calendar_days_day").removeClass("ogx_flex_calendar_current_weekday");for(var l=0;l<3;l++)a=r.children(".ogx_infinite_swiper_item:eq("+l+")"),n='<div class="ogx_flex_calendar_day ogx_flex_calendar_full_day"><span class="ogx_flex_calendar_day_label">'+e.add(1,"days").format("D")+'</span><div class="ogx_flex_calendar_day_content"></div></div>',a.html(n),1===l&&v.find(".ogx_flex_calendar_days:first").children(".ogx_flex_calendar_days_day:eq("+e.weekday()+")").addClass("ogx_flex_calendar_current_weekday"),I.render&&I.render.day&&I.data&&D.day.render(a.children(".ogx_flex_calendar_day:last").children(".ogx_flex_calendar_day_content:first")[0],I.data,e)}function t(e){var a;e?(s(!1),I.view=OGX.FlexCalendar.VIEW_DAY,O.disable(),O.el.prepend('<div class="ogx_flex_calendar_swiper_day"></div>'),a=O.el.find(".ogx_flex_calendar_swiper_day:first"),w=new OGX.InfiniteSwiper({container:a[0]}),a.css("opacity",1),d(),_(!0)):(I.view=OGX.FlexCalendar.VIEW_MONTH,_(!1),n(),i(I.date.format("YYYY-MM-DD"),!1),a=O.el.find(".ogx_flex_calendar_swiper_day:first"),a.css("opacity",0),setTimeout(function(){w.destroy(),O.el.find(".ogx_flex_calendar_swiper_day:first").remove(),o(!0),O.enable(),s(!0)},0))}function i(e,a){I.date=moment(e);var n,r=O.el.children(".ogx_infinite_swiper:first").children(".ogx_infinite_swiper_container:first").children(".ogx_infinite_swiper_item:eq(1)"),l=r.find('.ogx_flex_calendar_day[data-date="'+e+'"]:first')[0];r.find(".ogx_flex_calendar_day").each(function(e,r){n=$(r),a?n.removeClass("ogx_flex_calendar_anim_off"):n.addClass("ogx_flex_calendar_anim_off"),n.removeClass("ogx_flex_calendar_selected_day"),n.removeClass("ogx_flex_calendar_shrunk_day"),n.removeClass("ogx_flex_calendar_full_day"),n.removeClass("ogx_flex_calendar_last_selected_day"),l===r?(n.addClass("ogx_flex_calendar_selected_day"),n.addClass("ogx_flex_calendar_full_day")):n.addClass("ogx_flex_calendar_shrunk_day")})}function o(e){var a,n=O.el.children(".ogx_infinite_swiper:first").children(".ogx_infinite_swiper_container:first").children(".ogx_infinite_swiper_item:eq(1)");n.find(".ogx_flex_calendar_day").each(function(n,r){a=$(r),e?a.removeClass("ogx_flex_calendar_anim_off"):a.addClass("ogx_flex_calendar_anim_off"),a.hasClass("ogx_flex_calendar_selected_day")&&(a.removeClass("ogx_flex_calendar_selected_day"),a.removeClass("ogx_flex_calendar_full_day"),a.addClass("ogx_flex_calendar_last_selected_day")),a.removeClass("ogx_flex_calendar_shrunk_day")})}function _(e){if(e){var a,n,r,l,d,o,s;M.el.on(X,function(e){e=y(e),a=e.pageX,n=e.pageY,d=(new Date).getTime()}),M.el.on(G,function(e){e=y(e),r=e.pageX,l=e.pageY,o=(new Date).getTime(),s=l<n?-1:1,o-d<I.maxT&&s===-1&&Math.abs(r-a)<I.maxX&&Math.abs(l-n)>I.minY&&(i(I.date.format("YYYY-MM-DD")),t(!1),_(!1))})}else M.el.off(X),M.el.off(G)}function s(e){e?O.el.on("click",".ogx_flex_calendar_day",function(){if($(this).hasClass("ogx_flex_calendar_offset"))o(!0);else{var e=$(this).data("date");i(e,!0),setTimeout(function(){t(!0)},F-300),v.trigger(OGX.FlexCalendar.SELECT_DATE,e)}}):O.el.off("click",".ogx_flex_calendar_day")}function f(e){e?(v.on(OGX.InfiniteSwiper.SWIPE_LEFT,function(){switch(I.view){case OGX.FlexCalendar.VIEW_MONTH:I.date.add(1,"month");break;case OGX.FlexCalendar.VIEW_WEEK:I.date.add(7,"days");break;case OGX.FlexCalendar.VIEW_DAY:I.date.add(1,"days")}a()}),v.on(OGX.InfiniteSwiper.SWIPE_RIGHT,function(){switch(I.view){case OGX.FlexCalendar.VIEW_MONTH:I.date.subtract(1,"month");break;case OGX.FlexCalendar.VIEW_WEEK:I.date.subtract(7,"days");break;case OGX.FlexCalendar.VIEW_DAY:I.date.subtract(1,"days")}a()})):(v.off(OGX.InfiniteSwiper.SWIPE_LEFT),v.off(OGX.InfiniteSwiper.SWIPE_RIGHT))}function c(){O=new OGX.InfiniteSwiper({container:C}),f(!0)}function x(){var e=[];if(!I.render)return e;OGX.hasOwnProperty("FlexCalendarBaseRenderer")||e.push("FlexCalendarBaseRenderer");var a;for(var n in I.render)I.render[n]&&I.render[n].hasOwnProperty("engine")&&(OGX.hasOwnProperty(I.render[n].engine)?(a=null,I.render[n].hasOwnProperty("config")&&I.render[n].config&&(a=I.render[n].config),D[n]=g(I.render[n].engine,a)):e.push(I.render[n].engine));return e}function g(e,a){var n=function(){};n.prototype.FlexCalendarBaseRenderer=OGX.prototype.FlexCalendarBaseRenderer,n.prototype[e]=OGX.prototype[e];var r=new n;return r.FlexCalendarBaseRenderer(),r[e](a),r}function u(){for(var e in D)D[e].__destroy(),D[e].destroy(),delete D[e]}function y(e){return e.hasOwnProperty("originalEvent")?e.originalEvent.changedTouches[0]:e}function m(){switch(I.mode){case OGX.FlexCalendar.MODE_MOBILE:X="touchstart",G="touchend";break;case OGX.FlexCalendar.MODE_DESKTOP:X="mousedown",G="mouseup"}}function h(){for(var e in Y)I.hasOwnProperty(e)||(I[e]=Y[e]);for(var a='<div class="ogx_flex_calendar"><div class="ogx_flex_calendar_head"><div class="ogx_flex_calendar_date">'+I.date.format("YYYY-MM")+'</div><div class="ogx_flex_calendar_days">',n=0;n<I.labels.length;n++)a+='<span class="ogx_flex_calendar_days_day">'+I.labels[n]+"</span>";a+='</div></div><div class="ogx_flex_calendar_swiper"></div></div>',$(I.container).html(a),M.el=v=$(I.container),C=v.find(".ogx_flex_calendar_swiper:first"),E=Math.floor(C.height()/6)-30}function p(){if("undefined"==typeof OGX.InfiniteSwiper)return void console.log("%c CRITICAL ERROR - OGX.InfiniteSwiper not found! ","background:#222; color: #FF0000");if("undefined"==typeof moment)return void console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000");moment.isMoment(I.date)||(I.date=moment(I.date)),h();var e=x();if(e.length)for(var n=0;n<e.length;n++)console.log("%c CRITICAL ERROR - OGX."+e[n]+" not found! ","background:#222; color: #FF0000");else c(),m(),a(),s(!0)}var v,C,O,w,E,F,G,X,M=this,I=e,Y={date:moment(),view:OGX.FlexCalendar.VIEW_MONTH,mode:OGX.FlexCalendar.MODE_MOBILE,render:{month:{engine:"FlexCalendarTotalRenderer",config:null},day:{engine:"FlexCalendarDayRenderer",config:null}},labels:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],format:"YYYY-MM",maxX:40,minY:40,maxT:700},D={};this.el=null,this.val=function(e){return"undefined"!=typeof e?I.date.format("YYYY-MM-DD"):(moment.isMoment(e)||(I.date=moment(e)),void a())},this.setData=function(e){I.data=e,a()},this.destroy=function(){w&&w.destroy(),s(!1),f(!1),_(!1),O.destroy(),u()},p()},OGX.FlexCalendar=function(e){"use strict";return new OGX.prototype.FlexCalendar(e)},OGX.FlexCalendar.VIEW_MONTH="FlexCalendarViewMonth",OGX.FlexCalendar.VIEW_WEEK="FlexCalendarViewWeek",OGX.FlexCalendar.VIEW_DAY="FlexCalendarViewDay",OGX.FlexCalendar.MODE_MOBILE="FlexCalendarModeMobile",OGX.FlexCalendar.MODE_DESKTOP="FlexCalendarModeDesktop",OGX.FlexCalendar.MONTH_CHANGE="FlexCalendarMonthChange",OGX.FlexCalendar.DAY_CHANGE="FlexCalendarDayChange",OGX.FlexCalendar.SELECT_DATE="FlexCalendarSelectDate";