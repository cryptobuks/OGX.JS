if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.FlexCalendar=function(e){"use strict";function a(){switch(p.find(".ogx_flex_calendar_date:first").html(M.date.format(M.format)),M.view){case OGX.FlexCalendar.VIEW_MONTH:setTimeout(function(){n(),F||(F=1e3*Number($(".ogx_flex_calendar_day").css("transition-duration").split("s")[0]))},0);break;case OGX.FlexCalendar.VIEW_WEEK:l();break;case OGX.FlexCalendar.VIEW_DAY:d()}}function n(){var e=moment().format("YYYY-MM-DD"),a=M.date.clone();a.subtract(1,"month");for(var n,l,d,t,i,_,o,s,f=O.el.children(".ogx_infinite_swiper:first").children(".ogx_infinite_swiper_container:first"),c=0;c<3;c++){n=f.children(".ogx_infinite_swiper_item:eq("+c+")"),l=a.daysInMonth(),d="",_=a.format("YYYY-MM"),t=moment(_+"-01"),i=t.weekday();for(var x=0;x<i;x++)d+='<div class="ogx_flex_calendar_day ogx_flex_calendar_offset"></div>';for(x=0;x<l;x++)s=_+"-"+r(String(x+1),2,"0"),o="",s===e&&(o+=" ogx_flex_calendar_today_day"),d+='<div class="ogx_flex_calendar_day'+o+'" data-date="'+s+'"><span class="ogx_flex_calendar_day_label">'+(x+1)+'</span><span class="ogx_flex_calendar_day_content" style="height:'+E+'px;"></span></div>';for(x=0;x<42-i-l;x++)d+='<div class="ogx_flex_calendar_day ogx_flex_calendar_offset"></div>';n.html(d),M.render&&M.render.month&&M.data&&n.children(".ogx_flex_calendar_day[data-date]").each(function(e,a){D.month.render($(a).children(".ogx_flex_calendar_day_content:first"),M.data,_+"-"+r(String(e+1),2,"0"))}),a.add(1,"month")}}function r(e,a,n){if(e.length===a)return e;for(;e.length<a;)e=n+e;return e}function l(){var e=M.date.clone();e.subtract(14,"days");for(var a,n,r,l=O.el.find(".ogx_infinite_swiper_container:first"),d=0;d<3;d++){a=l.children(".ogx_infinite_swiper_item:eq("+d+")"),n=7,r="";for(var t=0;t<n;t++)r+='<div class="ogx_flex_calendar_day ogx_flex_calendar_week"><span class="ogx_flex_calendar_day_label">'+e.add(1,"days").format("DD")+'</span><span class="ogx_flex_calendar_day_content"></span></div>';a.html(r)}}function d(){var e=M.date.clone();e.subtract(2,"day");var a,n,r=w.el.find(".ogx_infinite_swiper_container:first");p.find(".ogx_flex_calendar_days:first").children(".ogx_flex_calendar_days_day").removeClass("ogx_flex_calendar_current_weekday");for(var l=0;l<3;l++)a=r.children(".ogx_infinite_swiper_item:eq("+l+")"),n='<div class="ogx_flex_calendar_day ogx_flex_calendar_full_day"><span class="ogx_flex_calendar_day_label">'+e.add(1,"days").format("D")+'</span><div class="ogx_flex_calendar_day_content"></div></div>',a.html(n),1===l&&p.find(".ogx_flex_calendar_days:first").children(".ogx_flex_calendar_days_day:eq("+e.weekday()+")").addClass("ogx_flex_calendar_current_weekday"),M.render&&M.render.day&&M.data&&D.day.render(a.children(".ogx_flex_calendar_day:last").children(".ogx_flex_calendar_day_content:first")[0],M.data,e)}function t(e){var a;e?(s(!1),M.view=OGX.FlexCalendar.VIEW_DAY,O.disable(),O.el.prepend('<div class="ogx_flex_calendar_swiper_day"></div>'),a=O.el.find(".ogx_flex_calendar_swiper_day:first"),w=new OGX.InfiniteSwiper({container:a[0]}),a.css("opacity",1),d(),o(!0)):(M.view=OGX.FlexCalendar.VIEW_MONTH,p.trigger(OGX.FlexCalendar.VIEW_CHANGE,M.view),o(!1),n(),i(M.date.format("YYYY-MM-DD"),!1),a=O.el.find(".ogx_flex_calendar_swiper_day:first"),a.css("opacity",0),setTimeout(function(){w.destroy(),O.el.find(".ogx_flex_calendar_swiper_day:first").remove(),_(!0),O.enable(),s(!0)},0))}function i(e,a){M.date=moment(e);var n,r=O.el.children(".ogx_infinite_swiper:first").children(".ogx_infinite_swiper_container:first").children(".ogx_infinite_swiper_item:eq(1)"),l=r.find('.ogx_flex_calendar_day[data-date="'+e+'"]:first')[0];r.find(".ogx_flex_calendar_day").each(function(e,r){n=$(r),a?n.removeClass("ogx_flex_calendar_anim_off"):n.addClass("ogx_flex_calendar_anim_off"),n.removeClass("ogx_flex_calendar_selected_day"),n.removeClass("ogx_flex_calendar_shrunk_day"),n.removeClass("ogx_flex_calendar_full_day"),n.removeClass("ogx_flex_calendar_last_selected_day"),l===r?(n.addClass("ogx_flex_calendar_selected_day"),n.addClass("ogx_flex_calendar_full_day")):n.addClass("ogx_flex_calendar_shrunk_day")})}function _(e){var a,n=O.el.children(".ogx_infinite_swiper:first").children(".ogx_infinite_swiper_container:first").children(".ogx_infinite_swiper_item:eq(1)");n.find(".ogx_flex_calendar_day").each(function(n,r){a=$(r),e?a.removeClass("ogx_flex_calendar_anim_off"):a.addClass("ogx_flex_calendar_anim_off"),a.hasClass("ogx_flex_calendar_selected_day")&&(a.removeClass("ogx_flex_calendar_selected_day"),a.removeClass("ogx_flex_calendar_full_day"),a.addClass("ogx_flex_calendar_last_selected_day")),a.removeClass("ogx_flex_calendar_shrunk_day")})}function o(e){if(e){var a,n,r,l,d,_,s;I.el.on(X,function(e){e=y(e),a=e.pageX,n=e.pageY,d=(new Date).getTime()}),I.el.on(G,function(e){e=y(e),r=e.pageX,l=e.pageY,_=(new Date).getTime(),s=l<n?-1:1,_-d<M.maxT&&s===-1&&Math.abs(r-a)<M.maxX&&Math.abs(l-n)>M.minY&&(i(M.date.format("YYYY-MM-DD")),t(!1),o(!1))})}else I.el.off(X),I.el.off(G)}function s(e){e?O.el.on("click",".ogx_flex_calendar_day",function(){if($(this).hasClass("ogx_flex_calendar_offset"))_(!0);else{var e=$(this).data("date");i(e,!0),setTimeout(function(){t(!0)},F-300),p.trigger(OGX.FlexCalendar.SELECT_DATE,e),p.trigger(OGX.FlexCalendar.VIEW_CHANGE,OGX.FlexCalendar.VIEW_DAY)}}):O.el.off("click",".ogx_flex_calendar_day")}function f(e){e?(p.on(OGX.InfiniteSwiper.SWIPE_LEFT,function(){switch(M.view){case OGX.FlexCalendar.VIEW_MONTH:M.date.add(1,"month");break;case OGX.FlexCalendar.VIEW_WEEK:M.date.add(7,"days");break;case OGX.FlexCalendar.VIEW_DAY:M.date.add(1,"days")}a()}),p.on(OGX.InfiniteSwiper.SWIPE_RIGHT,function(){switch(M.view){case OGX.FlexCalendar.VIEW_MONTH:M.date.subtract(1,"month");break;case OGX.FlexCalendar.VIEW_WEEK:M.date.subtract(7,"days");break;case OGX.FlexCalendar.VIEW_DAY:M.date.subtract(1,"days")}a()})):(p.off(OGX.InfiniteSwiper.SWIPE_LEFT),p.off(OGX.InfiniteSwiper.SWIPE_RIGHT))}function c(){O=new OGX.InfiniteSwiper({container:v}),f(!0)}function x(){var e=[];if(!M.render)return e;OGX.hasOwnProperty("FlexCalendarBaseRenderer")||e.push("FlexCalendarBaseRenderer");var a;for(var n in M.render)M.render[n]&&M.render[n].hasOwnProperty("engine")&&(OGX.hasOwnProperty(M.render[n].engine)?(a=null,M.render[n].hasOwnProperty("config")&&M.render[n].config&&(a=M.render[n].config),D[n]=g(M.render[n].engine,a)):e.push(M.render[n].engine));return e}function g(e,a){var n=function(){};n.prototype.FlexCalendarBaseRenderer=OGX.prototype.FlexCalendarBaseRenderer,n.prototype[e]=OGX.prototype[e];var r=new n;return r.FlexCalendarBaseRenderer(),r[e](a),r}function u(){for(var e in D)D[e].__destroy(),D[e].destroy(),delete D[e]}function y(e){return e.hasOwnProperty("originalEvent")?e.originalEvent.changedTouches[0]:e}function C(){switch(M.mode){case OGX.FlexCalendar.MODE_MOBILE:X="touchstart",G="touchend";break;case OGX.FlexCalendar.MODE_DESKTOP:X="mousedown",G="mouseup"}}function m(){for(var e in Y)M.hasOwnProperty(e)||(M[e]=Y[e]);for(var a='<div class="ogx_flex_calendar"><div class="ogx_flex_calendar_head"><div class="ogx_flex_calendar_date">'+M.date.format("YYYY-MM")+'</div><div class="ogx_flex_calendar_days">',n=0;n<M.labels.length;n++)a+='<span class="ogx_flex_calendar_days_day">'+M.labels[n]+"</span>";a+='</div></div><div class="ogx_flex_calendar_swiper"></div></div>',$(M.container).html(a),I.el=p=$(M.container),v=p.find(".ogx_flex_calendar_swiper:first"),E=Math.floor(v.height()/6)-30}function h(){if("undefined"==typeof OGX.InfiniteSwiper)return void console.log("%c CRITICAL ERROR - OGX.InfiniteSwiper not found! ","background:#222; color: #FF0000");if("undefined"==typeof moment)return void console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000");moment.isMoment(M.date)||(M.date=moment(M.date)),m();var e=x();if(e.length)for(var n=0;n<e.length;n++)console.log("%c CRITICAL ERROR - OGX."+e[n]+" not found! ","background:#222; color: #FF0000");else c(),C(),a(),s(!0)}var p,v,O,w,E,F,G,X,I=this,M=e,Y={date:moment(),view:OGX.FlexCalendar.VIEW_MONTH,mode:OGX.FlexCalendar.MODE_MOBILE,render:{month:{engine:"FlexCalendarTotalRenderer",config:null},day:{engine:"FlexCalendarDayRenderer",config:null}},labels:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],format:"YYYY-MM",maxX:40,minY:40,maxT:700},D={};this.el=null,this.val=function(e){return"undefined"!=typeof e?M.date.format("YYYY-MM-DD"):(moment.isMoment(e)||(M.date=moment(e)),void a())},this.setData=function(e){M.data=e,a()},this.destroy=function(){w&&w.destroy(),s(!1),f(!1),o(!1),O.destroy(),u()},h()},OGX.FlexCalendar=function(e){"use strict";return new OGX.prototype.FlexCalendar(e)},OGX.FlexCalendar.VIEW_MONTH="FlexCalendarViewMonth",OGX.FlexCalendar.VIEW_WEEK="FlexCalendarViewWeek",OGX.FlexCalendar.VIEW_DAY="FlexCalendarViewDay",OGX.FlexCalendar.VIEW_CHANGE="FlexCalendarViewChange",OGX.FlexCalendar.MODE_MOBILE="FlexCalendarModeMobile",OGX.FlexCalendar.MODE_DESKTOP="FlexCalendarModeDesktop",OGX.FlexCalendar.MONTH_CHANGE="FlexCalendarMonthChange",OGX.FlexCalendar.DAY_CHANGE="FlexCalendarDayChange",OGX.FlexCalendar.SELECT_DATE="FlexCalendarSelectDate";