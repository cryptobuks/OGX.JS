if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.FlexCalendar=function(e){"use strict";function a(){switch(v.find(".ogx_flex_calendar_date:first").html(Y.date.format(Y.format)),Y.view){case OGX.FlexCalendar.VIEW_MONTH:setTimeout(function(){n(),G||(G=1e3*Number($(".ogx_flex_calendar_day").css("transition-duration").split("s")[0]))},0);break;case OGX.FlexCalendar.VIEW_WEEK:l();break;case OGX.FlexCalendar.VIEW_DAY:d()}}function n(){var e=moment().format("YYYY-MM-DD"),a=Y.date.clone();a.subtract(1,"month");for(var n,l,d,t,i,_,o,s,f=w.el.children(".ogx_infinite_swiper:first").children(".ogx_infinite_swiper_container:first"),c=0;c<3;c++){n=f.children(".ogx_infinite_swiper_item:eq("+c+")"),l=a.daysInMonth(),d="",_=a.format("YYYY-MM"),t=moment(_+"-01"),i=t.weekday();for(var x=0;x<i;x++)d+='<div class="ogx_flex_calendar_day ogx_flex_calendar_offset"></div>';for(x=0;x<l;x++)s=_+"-"+r(String(x+1),2,"0"),o="",s===e&&(o+=" ogx_flex_calendar_today_day"),d+='<div class="ogx_flex_calendar_day'+o+'" data-date="'+s+'"><span class="ogx_flex_calendar_day_label">'+(x+1)+'</span><span class="ogx_flex_calendar_day_content" style="height:'+F+'px;"></span></div>';for(x=0;x<42-i-l;x++)d+='<div class="ogx_flex_calendar_day ogx_flex_calendar_offset"></div>';n.html(d),Y.render&&Y.render.month&&Y.data&&n.children(".ogx_flex_calendar_day[data-date]").each(function(e,a){T.month.render($(a).children(".ogx_flex_calendar_day_content:first"),Y.data,_+"-"+r(String(e+1),2,"0"))}),a.add(1,"month")}}function r(e,a,n){if(e.length===a)return e;for(;e.length<a;)e=n+e;return e}function l(){var e=Y.date.clone();e.subtract(14,"days");for(var a,n,r,l=w.el.find(".ogx_infinite_swiper_container:first"),d=0;d<3;d++){a=l.children(".ogx_infinite_swiper_item:eq("+d+")"),n=7,r="";for(var t=0;t<n;t++)r+='<div class="ogx_flex_calendar_day ogx_flex_calendar_week"><span class="ogx_flex_calendar_day_label">'+e.add(1,"days").format("DD")+'</span><span class="ogx_flex_calendar_day_content"></span></div>';a.html(r)}}function d(){var e=Y.date.clone();e.subtract(2,"day");var a,n,r=E.el.find(".ogx_infinite_swiper_container:first");v.find(".ogx_flex_calendar_days:first").children(".ogx_flex_calendar_days_day").removeClass("ogx_flex_calendar_current_weekday");for(var l=0;l<3;l++)a=r.children(".ogx_infinite_swiper_item:eq("+l+")"),n='<div class="ogx_flex_calendar_day ogx_flex_calendar_full_day"><span class="ogx_flex_calendar_day_label">'+e.add(1,"days").format("D")+'</span><div class="ogx_flex_calendar_day_content"></div></div>',a.html(n),1===l&&v.find(".ogx_flex_calendar_days:first").children(".ogx_flex_calendar_days_day:eq("+e.weekday()+")").addClass("ogx_flex_calendar_current_weekday"),Y.render&&Y.render.day&&Y.data&&T.day.render(a.children(".ogx_flex_calendar_day:last").children(".ogx_flex_calendar_day_content:first")[0],Y.data,e)}function t(){var e=E.el.find(".ogx_infinite_swiper_container:first").children(".ogx_infinite_swiper_item:eq(1)");T.day.update(e.children(".ogx_flex_calendar_day:last").children(".ogx_flex_calendar_day_content:first")[0],Y.data,Y.date)}function i(e){var a;e?(f(!1),Y.view=OGX.FlexCalendar.VIEW_DAY,w.disable(),w.el.prepend('<div class="ogx_flex_calendar_swiper_day"></div>'),a=w.el.find(".ogx_flex_calendar_swiper_day:first"),E=new OGX.InfiniteSwiper({container:a[0]}),a.css("opacity",1),d(),s(!0)):(Y.view=OGX.FlexCalendar.VIEW_MONTH,v.trigger(OGX.FlexCalendar.VIEW_CHANGE,Y.view),s(!1),n(),_(Y.date.format("YYYY-MM-DD"),!1),a=w.el.find(".ogx_flex_calendar_swiper_day:first"),a.css("opacity",0),setTimeout(function(){E.destroy(),w.el.find(".ogx_flex_calendar_swiper_day:first").remove(),o(!0),w.enable(),f(!0)},0))}function _(e,a){Y.date=moment(e);var n,r=w.el.children(".ogx_infinite_swiper:first").children(".ogx_infinite_swiper_container:first").children(".ogx_infinite_swiper_item:eq(1)"),l=r.find('.ogx_flex_calendar_day[data-date="'+e+'"]:first')[0];r.find(".ogx_flex_calendar_day").each(function(e,r){n=$(r),a?n.removeClass("ogx_flex_calendar_anim_off"):n.addClass("ogx_flex_calendar_anim_off"),n.removeClass("ogx_flex_calendar_selected_day"),n.removeClass("ogx_flex_calendar_shrunk_day"),n.removeClass("ogx_flex_calendar_full_day"),n.removeClass("ogx_flex_calendar_last_selected_day"),l===r?(n.addClass("ogx_flex_calendar_selected_day"),n.addClass("ogx_flex_calendar_full_day")):n.addClass("ogx_flex_calendar_shrunk_day")})}function o(e){var a,n=w.el.children(".ogx_infinite_swiper:first").children(".ogx_infinite_swiper_container:first").children(".ogx_infinite_swiper_item:eq(1)");n.find(".ogx_flex_calendar_day").each(function(n,r){a=$(r),e?a.removeClass("ogx_flex_calendar_anim_off"):a.addClass("ogx_flex_calendar_anim_off"),a.hasClass("ogx_flex_calendar_selected_day")&&(a.removeClass("ogx_flex_calendar_selected_day"),a.removeClass("ogx_flex_calendar_full_day"),a.addClass("ogx_flex_calendar_last_selected_day")),a.removeClass("ogx_flex_calendar_shrunk_day")})}function s(e){if(e){var a,n,r,l,d,t,o;M.el.on(I,function(e){e=h(e),a=e.pageX,n=e.pageY,d=(new Date).getTime()}),M.el.on(X,function(e){e=h(e),r=e.pageX,l=e.pageY,t=(new Date).getTime(),o=l<n?-1:1,t-d<Y.maxT&&o===-1&&Math.abs(r-a)<Y.maxX&&Math.abs(l-n)>Y.minY&&(_(Y.date.format("YYYY-MM-DD")),i(!1),s(!1))})}else M.el.off(I),M.el.off(X)}function f(e){e?w.el.on("click",".ogx_flex_calendar_day",function(){if($(this).hasClass("ogx_flex_calendar_offset"))o(!0);else{var e=$(this).data("date");_(e,!0),setTimeout(function(){i(!0)},G-300),v.trigger(OGX.FlexCalendar.SELECT_DATE,e),v.trigger(OGX.FlexCalendar.VIEW_CHANGE,OGX.FlexCalendar.VIEW_DAY)}}):w.el.off("click",".ogx_flex_calendar_day")}function c(e){e?(v.on(OGX.InfiniteSwiper.SWIPE_LEFT,function(){switch(Y.view){case OGX.FlexCalendar.VIEW_MONTH:Y.date.add(1,"month");break;case OGX.FlexCalendar.VIEW_WEEK:Y.date.add(7,"days");break;case OGX.FlexCalendar.VIEW_DAY:Y.date.add(1,"days")}a()}),v.on(OGX.InfiniteSwiper.SWIPE_RIGHT,function(){switch(Y.view){case OGX.FlexCalendar.VIEW_MONTH:Y.date.subtract(1,"month");break;case OGX.FlexCalendar.VIEW_WEEK:Y.date.subtract(7,"days");break;case OGX.FlexCalendar.VIEW_DAY:Y.date.subtract(1,"days")}a()})):(v.off(OGX.InfiniteSwiper.SWIPE_LEFT),v.off(OGX.InfiniteSwiper.SWIPE_RIGHT))}function x(){w=new OGX.InfiniteSwiper({container:O}),c(!0)}function g(){var e=[];if(!Y.render)return e;OGX.hasOwnProperty("FlexCalendarBaseRenderer")||e.push("FlexCalendarBaseRenderer");var a;for(var n in Y.render)Y.render[n]&&Y.render[n].hasOwnProperty("engine")&&(OGX.hasOwnProperty(Y.render[n].engine)?(a=null,Y.render[n].hasOwnProperty("config")&&Y.render[n].config&&(a=Y.render[n].config),T[n]=u(Y.render[n].engine,a)):e.push(Y.render[n].engine));return e}function u(e,a){var n=function(){};n.prototype.FlexCalendarBaseRenderer=OGX.prototype.FlexCalendarBaseRenderer,n.prototype[e]=OGX.prototype[e];var r=new n;return r.FlexCalendarBaseRenderer(),r[e](a),r}function y(){for(var e in T)T[e].__destroy(),T[e].destroy(),delete T[e]}function h(e){return e.hasOwnProperty("originalEvent")?e.originalEvent.changedTouches[0]:e}function C(){switch(Y.mode){case OGX.FlexCalendar.MODE_MOBILE:I="touchstart",X="touchend";break;case OGX.FlexCalendar.MODE_DESKTOP:I="mousedown",X="mouseup"}}function m(){for(var e in D)Y.hasOwnProperty(e)||(Y[e]=D[e]);for(var a='<div class="ogx_flex_calendar"><div class="ogx_flex_calendar_head"><div class="ogx_flex_calendar_date">'+Y.date.format("YYYY-MM")+'</div><div class="ogx_flex_calendar_days">',n=0;n<Y.labels.length;n++)a+='<span class="ogx_flex_calendar_days_day">'+Y.labels[n]+"</span>";a+='</div></div><div class="ogx_flex_calendar_swiper"></div></div>',$(Y.container).html(a),M.el=v=$(Y.container),O=v.find(".ogx_flex_calendar_swiper:first"),F=Math.floor(O.height()/6)-30}function p(){if("undefined"==typeof OGX.InfiniteSwiper)return void console.log("%c CRITICAL ERROR - OGX.InfiniteSwiper not found! ","background:#222; color: #FF0000");if("undefined"==typeof moment)return void console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000");moment.isMoment(Y.date)||(Y.date=moment(Y.date)),m();var e=g();if(e.length)for(var n=0;n<e.length;n++)console.log("%c CRITICAL ERROR - OGX."+e[n]+" not found! ","background:#222; color: #FF0000");else x(),C(),a(),f(!0)}var v,O,w,E,F,G,X,I,M=this,Y=e,D={date:moment(),view:OGX.FlexCalendar.VIEW_MONTH,mode:OGX.FlexCalendar.MODE_MOBILE,render:{month:{engine:"FlexCalendarTotalRenderer",config:null},day:{engine:"FlexCalendarDayRenderer",config:null}},labels:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],format:"YYYY-MM",maxX:40,minY:40,maxT:700},T={};this.el=null,this.val=function(e){return"undefined"!=typeof e?Y.date.format("YYYY-MM-DD"):(moment.isMoment(e)||(Y.date=moment(e)),void a())},this.setData=function(e){Y.data=e,a()},this.updateCurrentDay=function(){Y.view===OGX.FlexCalendar.VIEW_DAY&&t()},this.destroy=function(){E&&E.destroy(),f(!1),c(!1),s(!1),w.destroy(),y()},p()},OGX.FlexCalendar=function(e){"use strict";return new OGX.prototype.FlexCalendar(e)},OGX.FlexCalendar.VIEW_MONTH="FlexCalendarViewMonth",OGX.FlexCalendar.VIEW_WEEK="FlexCalendarViewWeek",OGX.FlexCalendar.VIEW_DAY="FlexCalendarViewDay",OGX.FlexCalendar.VIEW_CHANGE="FlexCalendarViewChange",OGX.FlexCalendar.MODE_MOBILE="FlexCalendarModeMobile",OGX.FlexCalendar.MODE_DESKTOP="FlexCalendarModeDesktop",OGX.FlexCalendar.MONTH_CHANGE="FlexCalendarMonthChange",OGX.FlexCalendar.DAY_CHANGE="FlexCalendarDayChange",OGX.FlexCalendar.SELECT_DATE="FlexCalendarSelectDate";