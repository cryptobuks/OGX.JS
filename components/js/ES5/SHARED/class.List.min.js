if("undefined"==typeof OGX)var OGX=function(){};OGX.List=function(){function t(t,e){return function(i,s){return i[t]<s[t]?e*-1:i[t]>s[t]?e:0}}if("undefined"==typeof moment)return void console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000");1===arguments.length&&arguments[0]instanceof Array&&(arguments=arguments[0]);var e=Object.create(Array.prototype);e=Array.apply(e,arguments)||e;for(var i in OGX.List.prototype)OGX.List.prototype.hasOwnProperty(i)&&(e[i]=OGX.List.prototype[i]);return e.insert=function(t,i){e.splice(i,0,t)},e.delete=function(t){e.splice(t,1)},e.findDelete=function(t,e,i){var s=0;"undefined"==typeof i&&(i=0);for(var r=0;r<this.length;r++)if(this[r][t]===e){if(this.splice(r,1),s++,i>0&&i===s)return s;r--}return s},e.findReplace=function(t,i,s){var r=e.findIndex(t,i);return!!r&&(e[r]=s,!0)},e.findUpdate=function(t,i,s,r){var n=e.findIndex(t,i);if(n){for(var a in s)r?e[n].hasOwnProperty(a)&&(e[n][a]=s[a]):e[n][a]=s[a];return!0}return!1},e.findIndex=function(t,e){var i=!1;e instanceof RegExp&&(i=!0);for(var s=0;s<this.length;s++)if(i){if(this[s][t].match(e))return{index:s}}else if(this[s][t]===e)return{index:s};return!1},e.find=function(t,e,i){var s=0,r=[],n=!1;e instanceof RegExp&&(n=!0);for(var a=0;a<this.length;a++)if(n?this[a][t].match(e)&&(r.push(this[a]),s++):this[a][t]===e&&(r.push(this[a]),s++),i>0&&s===i)return new OGX.List(r);return new OGX.List(r)},e.order=function(i,s){e.sort(t(i,s))},e.filters={},e.addFilter=function(t,e,i){return!this.filters.hasOwnProperty(t)&&(this.filters[t]={value:i,mode:e},!0)},e.removeFilter=function(t){return!!this.filters.hasOwnProperty(t)&&(delete this.filters[t],!0)},e.getFilters=function(){return this.filters},e.resetFilters=function(){this.filters={}},e.filter=function(){for(var t,i=[],s=!1,r=/[0-9]{4}\-[0-9]{2}\-[0-9]{2}/g,n=!1,a=0;a<this.length;a++){n=!0;for(var o in this.filters)if(this[a].hasOwnProperty(o)){switch(s=!0,t=!1,isString=!1,Array.isArray(this[a][o])?"string"==typeof this[a][o][0]&&(isString=!0,this[a][o][0].match(r)&&(t=!0)):"string"==typeof this[a][o]&&(isString=!0,this[a][o].match(r)&&(t=!0)),this.filters[o].mode){case"eq":isString?this[a][o].toLowerCase()!==this.filters[o].value.toLowerCase()&&(n=!1):this[a][o]!==this.filters[o].value&&(n=!1);break;case"eqjson":JSON.stringify(this[a][o])!==JSON.stringify(this.filters[o].value)&&(n=!1);break;case"neq":isString?this[a][o].toLowerCase()===this.filters[o].value.toLowerCase()&&(n=!1):this[a][o]===this.filters[o].value&&(n=!1);break;case"in":isString?this[a][o].toLowerCase().indexOf(this.filters[o].value.toLowerCase())===-1&&(n=!1):this[a][o].indexOf(this.filters[o].value)===-1&&(n=!1);break;case"nin":isString?this[a][o].toLowerCase().indexOf(this.filters[o].value.toLowerCase())!==-1&&(n=!1):this[a][o].indexOf(this.filters[o].value)!==-1&&(n=!1);break;case"gt":t?moment(this[a][o]).unix()<=moment(this.filters[o].value).unix()&&(n=!1):this[a][o]<=this.filters[o].value&&(n=!1);break;case"gte":t?moment(this[a][o]).unix()<moment(this.filters[o].value).unix()&&(n=!1):this[a][o]<this.filters[o].value&&(n=!1);break;case"lt":t?moment(this[a][o]).unix()>=moment(this.filters[o].value).unix()&&(n=!1):this[a][o]>=this.filters[o].value&&(n=!1);break;case"lte":t?moment(this[a][o]).unix()>moment(this.filters[o].value).unix()&&(n=!1):this[a][o]>this.filters[o].value&&(n=!0);break;case"btw":t?(moment(this.filters[o].value[0]).unix()>moment(this[a][o]).unix()||moment(this.filters[o].value[1]).unix()<moment(this[a][o]).unix())&&(n=!1):(this.filters[o].value[0]>this[a][o]||this.filters[o].value[1]<this[a][o])&&(n=!1);break;case"substr":this[a][o].toLowerCase().substr(this.filters[o].value[0],this.filters[o].value[1]).toLowerCase()!==this.filters[o].value[2].toLowerCase()&&(n=!1);break;case"regex":this[a][o].match(this.filters[o].value)||(n=!1)}if(!n)break}n&&i.push(this[a])}return s?OGX.List.apply(null,i):e},e};