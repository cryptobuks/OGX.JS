if("undefined"==typeof OGX)var OGX=function(){};OGX.List=function(){"use strict";function t(t,s){return function(i,e){return i[t]<e[t]?s*-1:i[t]>e[t]?s:0}}if("undefined"==typeof moment)return void console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000");var s=Object.create(Array.prototype);s=Array.apply(s,arguments)||s;for(var i in OGX.List.prototype)OGX.List.prototype.hasOwnProperty(i)&&(s[i]=OGX.List.prototype[i]);return s.insert=function(t,i){s.splice(i,0,t)},s.delete=function(t){s.splice(t,1)},s.order=function(i,e){s.sort(t(i,e))},s.filters={},s.addFilter=function(t,s,i){return!this.filters.hasOwnProperty(t)&&(this.filters[t]={value:i,mode:s},!0)},s.removeFilter=function(t){return!!this.filters.hasOwnProperty(t)&&(delete this.filters[t],!0)},s.filter=function(){var t,s=[];for(var i in this.filters){t=!1;for(var e=0;e<this.length;e++)if(this[e].hasOwnProperty(i))switch(this[e][i].match(/[0-9]{4}\-[0-9]{2}\-[0-9]{2}/g)&&(t=!0),this.filters[i].mode){case"eq":this[e][i]===this.filters[i].value&&s.push(this[e]);break;case"neq":this[e][i]!==this.filters[i].value&&s.push(this[e]);break;case"in":this[e][i].indexOf(this.filters[i].value)!==-1&&s.push(this[e]);break;case"nin":this[e][i].indexOf(this.filters[i].value)==-1&&s.push(this[e]);break;case"gt":t?moment(this[e][i]).unix()>moment(this.filters[i].value).unix()&&s.push(this[e]):this[e][i]>this.filters[i].value&&s.push(this[e]);break;case"gte":t?moment(this[e][i]).unix()>=moment(this.filters[i].value).unix()&&s.push(this[e]):this[e][i]>=this.filters[i].value&&s.push(this[e]);break;case"lt":t?moment(this[e][i]).unix()<moment(this.filters[i].value).unix()&&s.push(this[e]):this[e][i]<this.filters[i].value&&s.push(this[e]);break;case"lte":t?moment(this[e][i]).unix()<=moment(this.filters[i].value).unix()&&s.push(this[e]):this[e][i]<=this.filters[i].value&&s.push(this[e]);break;case"btw":t?moment(this.filters[i].value[0]).unix()<moment(this[e][i]).unix()&&moment(this.filters[i].value[1]).unix()>moment(this[e][i]).unix()&&s.push(this[e]):this.filters[i].value[0]<this[e][i]&&this.filters[i].value[1]>this[e][i]&&s.push(this[e]);break;case"substr":this[e][i].substr(this.filters[i].value[0],this.filters[i].value[1])===this.filters[i].value[2]&&s.push(this[e]);break;case"regex":this[e][i].match(this.filters[i].value)&&s.push(this[e])}}return OGX.List.apply(null,s)},s.getFilters=function(){return this.filters},s.resetFilters=function(){this.filters={}},s};