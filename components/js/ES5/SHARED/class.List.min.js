if("undefined"==typeof OGX)var OGX=function(){};OGX.List=function(){function t(t,i){return function(s,e){return s[t]<e[t]?i*-1:s[t]>e[t]?i:0}}if("undefined"==typeof moment)return void console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000");1===arguments.length&&arguments[0]instanceof Array&&(arguments=arguments[0]);var i=Object.create(Array.prototype);i=Array.apply(i,arguments)||i;for(var s in OGX.List.prototype)OGX.List.prototype.hasOwnProperty(s)&&(i[s]=OGX.List.prototype[s]);return i.insert=function(t,s){i.splice(s,0,t)},i.delete=function(t){i.splice(t,1)},i.findDelete=function(t,i){for(var s=0;s<this.length;s++)this[s][t]===this[s][i]&&(this.splice(s,1),s--)},i.order=function(s,e){i.sort(t(s,e))},i.filters={},i.addFilter=function(t,i,s){return!this.filters.hasOwnProperty(t)&&(this.filters[t]={value:s,mode:i},!0)},i.removeFilter=function(t){return!!this.filters.hasOwnProperty(t)&&(delete this.filters[t],!0)},i.filter=function(){var t,i=[];for(var s in this.filters){t=!1;for(var e=0;e<this.length;e++)if(this[e].hasOwnProperty(s))switch(this[e][s].match(/[0-9]{4}\-[0-9]{2}\-[0-9]{2}/g)&&(t=!0),this.filters[s].mode){case"eq":this[e][s]===this.filters[s].value&&i.push(this[e]);break;case"neq":this[e][s]!==this.filters[s].value&&i.push(this[e]);break;case"in":this[e][s].indexOf(this.filters[s].value)!==-1&&i.push(this[e]);break;case"nin":this[e][s].indexOf(this.filters[s].value)==-1&&i.push(this[e]);break;case"gt":t?moment(this[e][s]).unix()>moment(this.filters[s].value).unix()&&i.push(this[e]):this[e][s]>this.filters[s].value&&i.push(this[e]);break;case"gte":t?moment(this[e][s]).unix()>=moment(this.filters[s].value).unix()&&i.push(this[e]):this[e][s]>=this.filters[s].value&&i.push(this[e]);break;case"lt":t?moment(this[e][s]).unix()<moment(this.filters[s].value).unix()&&i.push(this[e]):this[e][s]<this.filters[s].value&&i.push(this[e]);break;case"lte":t?moment(this[e][s]).unix()<=moment(this.filters[s].value).unix()&&i.push(this[e]):this[e][s]<=this.filters[s].value&&i.push(this[e]);break;case"btw":t?moment(this.filters[s].value[0]).unix()<moment(this[e][s]).unix()&&moment(this.filters[s].value[1]).unix()>moment(this[e][s]).unix()&&i.push(this[e]):this.filters[s].value[0]<this[e][s]&&this.filters[s].value[1]>this[e][s]&&i.push(this[e]);break;case"substr":this[e][s].substr(this.filters[s].value[0],this.filters[s].value[1])===this.filters[s].value[2]&&i.push(this[e]);break;case"regex":this[e][s].match(this.filters[s].value)&&i.push(this[e])}}return OGX.List.apply(null,i)},i.getFilters=function(){return this.filters},i.resetFilters=function(){this.filters={}},i};