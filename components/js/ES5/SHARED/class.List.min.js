if("undefined"==typeof OGX)var OGX=function(){};OGX.List=function(){"use strict";function t(t,e){return function(i,s){return i[t]<s[t]?e*-1:i[t]>s[t]?e:0}}if("undefined"==typeof OGX.Templater)return void console.log("%c CRITICAL ERROR - OGX.Templater not found! ","background:#222; color: #FF0000");var e=Object.create(Array.prototype);e=Array.apply(e,arguments)||e;for(var i in OGX.List.prototype)OGX.List.prototype.hasOwnProperty(i)&&(e[i]=OGX.List.prototype[i]);return e.insert=function(t,i){e.splice(i,0,t)},e.delete=function(t){e.splice(t,1)},e.order=function(i,s){e.sort(t(i,s))},e.filters={},e.addFilter=function(t,e,i){return!this.filters.hasOwnProperty(t)&&(this.filters[t]={value:i,mode:e},!0)},e.removeFilter=function(t){return!!this.filters.hasOwnProperty(t)&&(delete this.filters[t],!0)},e.filter=function(){var t,e=[];for(var i in this.filters){t=!1;for(var s=0;s<this.length;s++)if(this[s].hasOwnProperty(i))switch(this[s][i].match(/[0-9]{4}\-[0-9]{2}\-[0-9]{2}/g)&&(t=!0),this.filters[i].mode){case"eq":this[s][i]===this.filters[i].value&&e.push(this[s]);break;case"neq":this[s][i]!==this.filters[i].value&&e.push(this[s]);break;case"in":this[s][i].indexOf(this.filters[i].value)!==-1&&e.push(this[s]);break;case"nin":this[s][i].indexOf(this.filters[i].value)==-1&&e.push(this[s]);break;case"gt":t?moment(this[s][i]).unix()>moment(this.filters[i].value).unix()&&e.push(this[s]):this[s][i]>this.filters[i].value&&e.push(this[s]);break;case"gte":t?moment(this[s][i]).unix()>=moment(this.filters[i].value).unix()&&e.push(this[s]):this[s][i]>=this.filters[i].value&&e.push(this[s]);break;case"lt":t?moment(this[s][i]).unix()<moment(this.filters[i].value).unix()&&e.push(this[s]):this[s][i]<this.filters[i].value&&e.push(this[s]);break;case"lte":t?moment(this[s][i]).unix()<=moment(this.filters[i].value).unix()&&e.push(this[s]):this[s][i]<=this.filters[i].value&&e.push(this[s]);break;case"btw":t?moment(this.filters[i].value[0]).unix()<moment(this[s][i]).unix()&&moment(this.filters[i].value[1]).unix()>moment(this[s][i]).unix()&&e.push(this[s]):this.filters[i].value[0]<this[s][i]&&this.filters[i].value[1]>this[s][i]&&e.push(this[s]);break;case"substr":this[s][i].substr(this.filters[i].value[0],this.filters[i].value[1])===this.filters[i].value[2]&&e.push(this[s]);break;case"regex":this[s][i].match(this.filters[i].value)&&e.push(this[s])}}return OGX.List.apply(null,e)},e.getFilters=function(){return this.filters},e.resetFilters=function(){this.filters={}},e};