if("undefined"==typeof OGX)var OGX=function(){};OGX.List=function(){function t(t,i){return function(e,s){return e[t]<s[t]?i*-1:e[t]>s[t]?i:0}}if("undefined"==typeof moment)return void console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000");1===arguments.length&&arguments[0]instanceof Array&&(arguments=arguments[0]);var i=Object.create(Array.prototype);i=Array.apply(i,arguments)||i;for(var e in OGX.List.prototype)OGX.List.prototype.hasOwnProperty(e)&&(i[e]=OGX.List.prototype[e]);return i.insert=function(t,e){i.splice(e,0,t)},i.delete=function(t){i.splice(t,1)},i.findDelete=function(t,i){for(var e=0;e<this.length;e++)this[e][t]===this[e][i]&&(this.splice(e,1),e--)},i.order=function(e,s){i.sort(t(e,s))},i.filters={},i.addFilter=function(t,i,e){return!this.filters.hasOwnProperty(t)&&(this.filters[t]={value:e,mode:i},!0)},i.removeFilter=function(t){return!!this.filters.hasOwnProperty(t)&&(delete this.filters[t],!0)},i.resetFilters=function(){i.filters={}},i.filter=function(){var t,i=[];for(var e in this.filters){t=!1;for(var s=0;s<this.length;s++)if(this[s].hasOwnProperty(e))switch(this[s][e].match(/[0-9]{4}\-[0-9]{2}\-[0-9]{2}/g)&&(t=!0),this.filters[e].mode){case"eq":this[s][e]===this.filters[e].value&&i.push(this[s]);break;case"neq":this[s][e]!==this.filters[e].value&&i.push(this[s]);break;case"in":this[s][e].indexOf(this.filters[e].value)!==-1&&i.push(this[s]);break;case"nin":this[s][e].indexOf(this.filters[e].value)==-1&&i.push(this[s]);break;case"gt":t?moment(this[s][e]).unix()>moment(this.filters[e].value).unix()&&i.push(this[s]):this[s][e]>this.filters[e].value&&i.push(this[s]);break;case"gte":t?moment(this[s][e]).unix()>=moment(this.filters[e].value).unix()&&i.push(this[s]):this[s][e]>=this.filters[e].value&&i.push(this[s]);break;case"lt":t?moment(this[s][e]).unix()<moment(this.filters[e].value).unix()&&i.push(this[s]):this[s][e]<this.filters[e].value&&i.push(this[s]);break;case"lte":t?moment(this[s][e]).unix()<=moment(this.filters[e].value).unix()&&i.push(this[s]):this[s][e]<=this.filters[e].value&&i.push(this[s]);break;case"btw":t?moment(this.filters[e].value[0]).unix()<moment(this[s][e]).unix()&&moment(this.filters[e].value[1]).unix()>moment(this[s][e]).unix()&&i.push(this[s]):this.filters[e].value[0]<this[s][e]&&this.filters[e].value[1]>this[s][e]&&i.push(this[s]);break;case"substr":this[s][e].substr(this.filters[e].value[0],this.filters[e].value[1])===this.filters[e].value[2]&&i.push(this[s]);break;case"regex":this[s][e].match(this.filters[e].value)&&i.push(this[s])}}return OGX.List.apply(null,i)},i.getFilters=function(){return this.filters},i.resetFilters=function(){this.filters={}},i};