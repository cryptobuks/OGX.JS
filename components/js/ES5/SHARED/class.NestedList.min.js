if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.NestedList=function(t){"use strict";function e(t){t?o.on("click",".ogx_nested_list_item_head",function(t){var e=$(this).next(),s=$(this).parent(0).index();if(e.removeClass("ogx_nested_list_item_body_anim_in"),e.removeClass("ogx_nested_list_item_body_anim_out"),$(this).hasClass("ogx_nested_list_item_head_closed")){var i=e.data("height");e.addClass("ogx_nested_list_item_body_anim_in"),setTimeout(function(){e.css("max-height",i)},h.action_timeout),$(this).removeClass("ogx_nested_list_item_head_closed"),$(this).addClass("ogx_nested_list_item_head_open"),o.trigger(OGX.NestedList.OPEN,h.data[s])}else{var i=e.height();e.data("height",i+"px"),e.addClass("ogx_nested_list_item_body_anim_out"),setTimeout(function(){e.css("max-height","0px")},h.action_timeout),$(this).addClass("ogx_nested_list_item_head_closed"),$(this).removeClass("ogx_nested_list_item_head_open"),o.trigger(OGX.NestedList.CLOSE,h.data[s])}e.on("transitionend",function(){e.off("transitionend"),e.hasClass("ogx_nested_list_item_body_anim_in")?o.trigger(OGX.NestedList.OPENED,h.data[s]):o.trigger(OGX.NestedList.CLOSED,h.data[s])})}):o.off("click",".ogx_nested_list_item_head")}function s(){o.empty();for(var t,e="",s=0;s<h.data.length;s++)n(h.data[s])&&(t="ogx_nested_list_item_head_open",h.data[s].open||(t="ogx_nested_list_item_head_closed"),e+='<div class="ogx_nested_list_item"><div class="ogx_nested_list_item_head '+t+'"><span class="ogx_nested_list_item_title">'+h.data[s].title+'</span></div><div class="ogx_nested_list_item_body"><span class="ogx_nested_list_item_content">'+h.data[s].body+"</span></div></div>");o.html(e),o.css("display","block"),setTimeout(i,h.set_heights_timeout),setTimeout(function(){o.trigger(OGX.NestedList.RENDER)},h.render_trigger_timeout)}function i(){o.find(".ogx_nested_list_item_body").each(function(t,e){var s=$(this).outerHeight(!0);$(this).data("height",s+"px"),$(this).parent(0).children(".ogx_nested_list_item_head:first").hasClass("ogx_nested_list_item_head_closed")?$(this).css("max-height","0px"):s&&$(this).css("max-height",s+"px")})}function n(t){if(t.hasOwnProperty("scopes"))for(var e=0;e<t.scopes.length;e++)if(h.scopes.indexOf(t.scopes[e])!==-1)return!0;return!1}function d(){for(var t in l)h.hasOwnProperty(t)||(h[t]=l[t]);a.el=o=$(h.container),o.addClass("ogx_nested_list")}function _(){d(),s(),h.enabled&&e(!0)}var o,a=this,l={scopes:["public"],set_heights_timeout:0,action_timeout:100,render_trigger_timeout:150,enabled:!0},h=t;this.el=null,this.setScopes=function(t){h.scopes=t,s()},this.updateItem=function(t,e){o.find(".ogx_nested_list_item_content:nth-child("+(t+1)+")").html(e),i()},this.setData=function(t){h.data=t,s()},this.getData=function(t){return h.data},this.enable=function(){h.enabled||(h.enabled=!0,e(!0))},this.disable=function(){h.enabled&&(h.enabled=!1,e(!1))},this.destroy=function(){h.enabled&&e(!0)},_()},OGX.NestedList=function(t){"use strict";return new OGX.prototype.NestedList(t)},OGX.NestedList.OPEN="nestedListOpen",OGX.NestedList.CLOSE="nestedListClose",OGX.NestedList.OPENED="nestedListOpened",OGX.NestedList.CLOSED="nestedListClosed",OGX.NestedList.RENDER="nestedListRender";