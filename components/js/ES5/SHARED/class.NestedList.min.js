if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.NestedList=function(t){"use strict";function e(t){t?d.on("click",".ogx_nested_list_item_head",function(t){var e=$(this).next(),s=$(this).parent(0).index();if(e.removeClass("ogx_nested_list_item_body_anim_in"),e.removeClass("ogx_nested_list_item_body_anim_out"),$(this).hasClass("ogx_nested_list_item_head_closed")){var i=e.data("height");e.addClass("ogx_nested_list_item_body_anim_in"),setTimeout(function(){e.css("max-height",i)},l.action_timeout),$(this).removeClass("ogx_nested_list_item_head_closed"),$(this).addClass("ogx_nested_list_item_head_open"),d.trigger(OGX.NestedList.OPEN,l.data[s])}else{var i=e.height();e.data("height",i+"px"),e.addClass("ogx_nested_list_item_body_anim_out"),setTimeout(function(){e.css("max-height","0px")},l.action_timeout),$(this).addClass("ogx_nested_list_item_head_closed"),$(this).removeClass("ogx_nested_list_item_head_open"),d.trigger(OGX.NestedList.CLOSE,l.data[s])}}):d.off("click",".ogx_nested_list_item_head")}function s(){d.empty();for(var t,e="",s=0;s<l.data.length;s++)_(l.data[s])&&(t="ogx_nested_list_item_head_open",l.data[s].open||(t="ogx_nested_list_item_head_closed"),e+='<div class="ogx_nested_list_item"><div class="ogx_nested_list_item_head '+t+'"><span class="ogx_nested_list_item_title">'+l.data[s].title+'</span></div><div class="ogx_nested_list_item_body"><span class="ogx_nested_list_item_content">'+l.data[s].body+"</span></div></div>");d.html(e),d.css("display","block"),setTimeout(i,l.set_heights_timeout),setTimeout(function(){d.trigger(OGX.NestedList.RENDER)},l.render_trigger_timeout)}function i(){d.find(".ogx_nested_list_item_body").each(function(t,e){var s=$(this).outerHeight(!0);$(this).data("height",s+"px"),$(this).parent(0).children(".ogx_nested_list_item_head:first").hasClass("ogx_nested_list_item_head_closed")?$(this).css("max-height","0px"):s&&$(this).css("max-height",s+"px")})}function _(t){if(t.hasOwnProperty("scopes"))for(var e=0;e<t.scopes.length;e++)if(l.scopes.indexOf(t.scopes[e])!==-1)return!0;return!1}function n(){for(var t in h)l.hasOwnProperty(t)||(l[t]=h[t]);a.el=d=$(l.container),d.addClass("ogx_nested_list")}function o(){n(),s(),e(!0)}var d,a=this,h={scopes:["public"],set_heights_timeout:0,action_timeout:100,render_trigger_timeout:150},l=t;this.el=null,this.setScopes=function(t){l.scopes=t,s()},this.updateItem=function(t,e){d.find(".ogx_nested_list_item_content:nth-child("+(t+1)+")").html(e),i()},this.setData=function(t){l.data=t,s()},this.getData=function(t){return l.data},this.destroy=function(){e(!1)},o()},OGX.NestedList=function(t){return new OGX.prototype.NestedList(t)},OGX.NestedList.OPEN="nestedListOpen",OGX.NestedList.CLOSE="nestedListClose",OGX.NestedList.RENDER="nestedListRender";