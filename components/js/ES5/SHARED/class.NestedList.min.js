if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.NestedList=function(e){function t(e){e?o.on("click",".ogx_nested_list_item_head",function(e){var t=$(this).next(),s=$(this).parent(0).index();if(t.removeClass("ogx_nested_list_item_body_anim_in"),t.removeClass("ogx_nested_list_item_body_anim_out"),$(this).hasClass("ogx_nested_list_item_head_closed")){var i=t.data("height");t.addClass("ogx_nested_list_item_body_anim_in"),setTimeout(function(){t.css("max-height",i)},100),$(this).removeClass("ogx_nested_list_item_head_closed"),$(this).addClass("ogx_nested_list_item_head_open"),o.trigger(OGX.NestedList.OPEN,c.data[s])}else t.addClass("ogx_nested_list_item_body_anim_out"),setTimeout(function(){t.css("max-height","0px")},100),$(this).addClass("ogx_nested_list_item_head_closed"),$(this).removeClass("ogx_nested_list_item_head_open"),o.trigger(OGX.NestedList.CLOSE,c.data[s])}):o.off("click",".ogx_nested_list_item_head")}function s(){o.find(".ogx_nested_list_item_body").each(function(e,t){h=$(this).outerHeight(),$(this).data("height",$(this).outerHeight()+"px"),$(this).parent(0).children(".ogx_nested_list_item_head:first").hasClass("ogx_nested_list_item_head_closed")?$(this).css("max-height","0px"):$(this).css("max-height",h+"px")}),o.css("display","block")}function i(){o.empty();for(var e,t="",i=0;i<c.data.length;i++)_(c.data[i])&&(e="ogx_nested_list_item_head_open",c.data[i].open||(e="ogx_nested_list_item_head_closed"),t+='<div class="ogx_nested_list_item"><div class="ogx_nested_list_item_head '+e+'"><span class="ogx_nested_list_item_title">'+c.data[i].title+'</span></div><div class="ogx_nested_list_item_body"><span class="ogx_nested_list_item_content">'+c.data[i].body+"</span></div></div>");o.html(t),o.trigger(OGX.NestedList.RENDER),setTimeout(s,200)}function _(e){if(e.hasOwnProperty("scopes"))for(var t=0;t<e.scopes.length;t++)if(c.scopes.indexOf(e.scopes[t])!==-1)return!0;return!1}function n(){for(var e in l)c.hasOwnProperty(e)||(c[e]=l[e]);a.el=o=$(c.container),o.addClass("ogx_nested_list")}function d(){n(),i(),t(!0)}var o,a=this,l={scopes:["public"]},c=e;this.el=null,this.setScopes=function(e){c.scopes=e,i()},this.destroy=function(){t(!1)},d()},OGX.NestedList=function(e){return new OGX.prototype.NestedList(e)},OGX.NestedList.OPEN="nestedListOpen",OGX.NestedList.CLOSE="nestedListClose",OGX.NestedList.RENDER="nestedListRender";