if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.NestedList=function(t){function e(t){t?d.on("click",".ogx_nested_list_item_head",function(t){var e=$(this).next(),s=$(this).parent(0).index();if(e.removeClass("ogx_nested_list_item_body_anim_in"),e.removeClass("ogx_nested_list_item_body_anim_out"),$(this).hasClass("ogx_nested_list_item_head_closed")){var i=e.data("height");e.addClass("ogx_nested_list_item_body_anim_in"),setTimeout(function(){e.css("max-height",i)},100),$(this).removeClass("ogx_nested_list_item_head_closed"),$(this).addClass("ogx_nested_list_item_head_open"),d.trigger(OGX.NestedList.OPEN,c.data[s])}else e.addClass("ogx_nested_list_item_body_anim_out"),setTimeout(function(){e.css("max-height","0px")},100),$(this).addClass("ogx_nested_list_item_head_closed"),$(this).removeClass("ogx_nested_list_item_head_open"),d.trigger(OGX.NestedList.CLOSE,c.data[s])}):d.off("click",".ogx_nested_list_item_head")}function s(){d.find(".ogx_nested_list_item_body").each(function(t,e){h=$(this).outerHeight(),$(this).data("height",$(this).outerHeight()+"px"),$(this).parent(0).children(".ogx_nested_list_item_head:first").hasClass("ogx_nested_list_item_head_closed")?$(this).css("max-height","0px"):$(this).css("max-height",h+"px")}),d.css("display","block")}function i(){d.empty();for(var t,e="",i=0;i<c.data.length;i++)_(c.data[i])&&(t="ogx_nested_list_item_head_open",c.data[i].open||(t="ogx_nested_list_item_head_closed"),e+='<div class="ogx_nested_list_item"><div class="ogx_nested_list_item_head '+t+'"><span class="ogx_nested_list_item_title">'+c.data[i].title+'</span></div><div class="ogx_nested_list_item_body"><span class="ogx_nested_list_item_content">'+c.data[i].body+"</span></div></div>");d.html(e),setTimeout(s,200)}function _(t){if(t.hasOwnProperty("scopes"))for(var e=0;e<t.scopes.length;e++)if(c.scopes.indexOf(t.scopes[e])!==-1)return!0;return!1}function n(){for(var t in l)c.hasOwnProperty(t)||(c[t]=l[t]);a.el=d=$(c.container),d.addClass("ogx_nested_list")}function o(){n(),i(),e(!0)}var d,a=this,l={scopes:["public"]},c=t;this.el=null,this.setScopes=function(t){c.scopes=t,i()},this.destroy=function(){e(!1)},o()},OGX.NestedList=function(t){return new OGX.prototype.NestedList(t)},OGX.NestedList.OPEN="open",OGX.NestedList.CLOSE="close";