if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.FlexCalendarDayRenderer=function(e){"use strict";function r(e,r){var n={},a=c.max_hour-c.min_hour,_=e.height(),d=_/a,l=100*d/_,o=r.start.split(":"),t=Number(o[0])+Number(o[1])/60-c.min_hour;return n.h_pc=Math.round(l*(r.length/60)*100)/100,n.h=Math.round(d*(r.length/60)*100)/100,n.y_pc=Math.round(t*l*100)/100,n.y=Math.round(t*d*100)/100,n}function n(e,r){return Math.max(e.top,r.top)<Math.min(e.bottom,r.bottom)}function a(e,a,_){var d,l,o,t,c,i=r(e,a),f=e.children(".ogx_flex_calendar_day_renderer_column").length,x=!1;if(0===f)e.html('<div class="ogx_flex_calendar_day_renderer_column"></div>'),x=e.children(".ogx_flex_calendar_day_renderer_column:first");else{for(var u=0;u<f;u++){if(c=!1,d=e.children(".ogx_flex_calendar_day_renderer_column:eq("+u+")").children(".ogx_flex_calendar_day_renderer_apt").length,d>0){for(var h=0;h<d;h++)if(l=e.children(".ogx_flex_calendar_day_renderer_column:eq("+u+")").children(".ogx_flex_calendar_day_renderer_apt:eq("+h+")"),o=l.position().top,t=l.height(),n({top:i.y,bottom:i.y+i.h},{top:o,bottom:o+t})){c=!0;break}if(!c){x=e.children(".ogx_flex_calendar_day_renderer_column:eq("+u+")");break}}if(x)break}x||(e.append('<div class="ogx_flex_calendar_day_renderer_column"></div>'),x=e.children(".ogx_flex_calendar_day_renderer_column:last"))}a.id=s,x.append('<div class="ogx_flex_calendar_day_renderer_apt" style="height:'+i.h_pc+"%; top:"+i.y_pc+"%; background-color:"+_[a.type].color+'" data-id="'+s+'"><span class="ogx_flex_calendar_day_renderer_apt_label">'+a.label+"</span></div>"),s++}function _(e,r,n){e.html('<div class="ogx_flex_calendar_day_renderer"><div class="ogx_flex_calendar_day_renderer_hours"></div><div class="ogx_flex_calendar_day_renderer_columns"></div></div>'),d(e);var _=e.find(".ogx_flex_calendar_day_renderer_columns:first");for(var l in r)for(var o=0;o<r[l].length;o++)a(_,r[l][o],n.categories)}function d(e){for(var r=e.find(".ogx_flex_calendar_day_renderer_hours:first"),n="",a=c.min_hour;a<c.max_hour+1;a++)n+='<div class="ogx_flex_calendar_day_renderer_hour"><span class="ogx_flex_calendar_day_renderer_hour_label">'+a+"</span></div>";r.html(n)}function l(){for(var e in i)c.hasOwnProperty(e)||(c[e]=i[e])}function o(){return"undefined"==typeof moment?void console.log("%c CRITICAL ERROR - moment.js not found! ","background:#222; color: #FF0000"):void l()}"undefined"!=typeof e&&null!==e||(e={});var t,c=e,i={min_hour:6,max_hour:22},s=1,f=!1;this.render=function(e,r,n){"undefined"==typeof n&&(n=moment()),moment.isMoment(n)||(n=moment(n));var a=OGX.FlexCalendarDataHelper.getDay(n,r);t=$(e),_(t,a,r),this.listenApt(!0)},this.listenApt=function(e){e?t.on("click",".ogx_flex_calendar_day_renderer_apt",function(e){return $(this).hasClass("ogx_flex_calendar_day_renderer_selected_apt")?($(this).removeClass("ogx_flex_calendar_day_renderer_selected_apt"),void(f=null)):(f&&f.removeClass("ogx_flex_calendar_day_renderer_selected_apt"),$(this).addClass("ogx_flex_calendar_day_renderer_selected_apt"),void(f=$(this)))}):t.off("click",".ogx_flex_calendar_day_renderer_apt")},this.destroy=function(){this.listenApt(!1)},o()},OGX.FlexCalendarDayRenderer=function(e){"use strict";return new OGX.prototype.FlexCalendarDayRenderer(e)};