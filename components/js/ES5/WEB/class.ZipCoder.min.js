if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.ZipCoder=function(e){"use strict";function n(e){switch(u.country.toLowerCase()){case"canada":case"ca":$(u.container).find(".ogx_zipcoder_input:eq(0)").prop("disabled",!e),$(u.container).find(".ogx_zipcoder_input:eq(1)").prop("disabled",!e);break;case"usa":case"us":$(u.container).find(".ogx_zipcoder_input:eq(0)").prop("disabled",!e);break;default:$(u.container).find(".ogx_zipcoder_input:eq(0)").prop("disabled",!e)}}function a(e,n){var a=!1,i=!1;switch(e.toLowerCase()){case"canada":case"ca":a=new RegExp("^([A-Za-z]\\d{1}[A-Za-z])[ -]?(\\d{1}[A-Za-z]\\d{1})$");var t=a.exec(n);if(!t)return!1;i=t[1]+" "+t[2];break;case"usa":case"us":a=new RegExp("^(\\d{2}[ ]?\\d{3})$");var t=a.exec(n);if(!t)return!1;i=t[0]}return i}function i(){var e="",n=u.value;if(u.country){switch(u.country.toLowerCase()){case"canada":case"ca":var a="",i="";n&&(a=u.value.split(" ")[0],i=u.value.split(" ")[1]),e+='<input type="text" class="ogx_zipcoder_input" placeholder="XXX" value="'+a+'" maxlength="3"><input type="text" class="ogx_zipcoder_input" placeholder="YYY" value="'+i+'" maxlength="3">',e+='<input type="hidden" name="'+u.name+'" value="'+a+" "+i+'">';break;case"usa":case"us":default:n||(n=""),e+='<input type="text" class="ogx_zipcoder_input" placeholder="00000" value="'+n+'" maxlength="5">',e+='<input type="hidden" name="'+u.name+'" value="'+n+'">'}$(u.container).html(e)}}function t(){$(u.container).on("focusin",".ogx_zipcoder_input",function(){"ca"===u.country.toLowerCase()||"canada"===u.country.toLowerCase()?$(this)[0]===$(u.container).find(".ogx_zipcoder_input:eq(0)")[0]?($(u.container).find(".ogx_zipcoder_input:eq(0)").val(""),$(u.container).find(".ogx_zipcoder_input:eq(1)").val("")):""===$(u.container).find(".ogx_zipcoder_input:eq(0)").val()&&u.value.length>0&&$(u.container).find(".ogx_zipcoder_input:eq(0)").val(u.value[0]):$(u.container).find(".ogx_zipcoder_input:eq(0)").val("")}),$(u.container).on("focusout",".ogx_zipcoder_input",function(){"ca"===u.country.toLowerCase()||"canada"===u.country.toLowerCase()?$(this)[0]===$(u.container).find(".ogx_zipcoder_input:eq(0)")[0]&&""===$(this).val()&&($(u.container).find(".ogx_zipcoder_input:eq(0)").val(u.value[0]),$(u.container).find(".ogx_zipcoder_input:eq(1)").val(u.value[1])):$(u.container).find(".ogx_zipcoder_input:eq(0)").val(u.value)}),$(u.container).on("input change",".ogx_zipcoder_input",function(){var e;switch(u.country.toLowerCase()){case"canada":case"ca":$(this)[0]===$(u.container).find(".ogx_zipcoder_input:eq(0)")[0]&&3===$(this).val().length&&$(u.container).find(".ogx_zipcoder_input:eq(1)").focus();var n=$(u.container).find(".ogx_zipcoder_input:eq(0)").val(),i=$(u.container).find(".ogx_zipcoder_input:eq(1)").val();e=n+" "+i;break;case"usa":case"us":e=$(this).val();break;default:e=$(this).val()}var t=a(u.country,e);t&&(t=!0),(u.validate&&t||!u.validate)&&("ca"===u.country.toLowerCase()||"canada"===u.country.toLowerCase()?u.value=[e.substr(0,3),e.substr(e.length-3,3)]:u.value=e),$(u.container).find("input[type=hidden]:first").val(e),$(u.container).trigger(OGX.ZipCoder.CHANGE,{country:u.country,zip:e,valid:t})})}function o(){var e=!1;u.hasOwnProperty("value")&&(e=u.value);for(var n in d)u.hasOwnProperty(n)||(u[n]=d[n]);if(e){var i=a(u.country,e);if(i){switch(u.country.toLowerCase()){case"canada":case"ca":u.value=[i[0],i[1]];break;case"usa":case"us":u.value=i[0]}u.value=e}}c.el=$(u.container)}function r(){o(),i(),t(),u.enabled||(u.enabled=!0,c.disable())}var c=this,u=e,d={container:null,name:"zip",country:"ca",value:null,validate:!0,enabled:!0};this.el=null,this.setCountry=function(e){u.country.toLowerCase()!==e.toLowerCase()&&(u.country=e,i())},this.clear=function(){switch(u.value=null,u.country.toLowerCase()){case"canada":case"ca":$(u.container).find(".ogx_zipcoder_input:eq(0)").val(""),$(u.container).find(".ogx_zipcoder_input:eq(1)").val("");break;case"usa":case"us":$(u.container).find(".ogx_zipcoder_input:eq(0)").val("");break;default:$(u.container).find(".ogx_zipcoder_input:eq(0)").val("")}$(u.container).find("input[type=hidden]:first").val("")},this.val=function(e){if("undefined"==typeof e)return u.value;var n=a(u.country.toLowerCase(),e);if(!n)return!1;switch(u.country.toLowerCase()){case"canada":case"ca":var i=e.substr(0,3),t=e.substr(e.length-3,3);$(u.container).find(".ogx_zipcoder_input:eq(0)").val(i),$(u.container).find(".ogx_zipcoder_input:eq(1)").val(t),u.value=[i,t];break;case"usa":case"us":$(u.container).find(".ogx_zipcoder_input:eq(0)").val(e),u.value=e;break;default:$(u.container).find(".ogx_zipcoder_input:eq(0)").val(e),u.value=e}return $(u.container).find("input[type=hidden]:first").val(e),!0},this.validateZip=function(e,n){return a(e.toLowerCase(),n)},this.enable=function(){u.enabled||(u.enabled=!0,n(!0))},this.disable=function(){u.enabled&&(u.enabled=!1,n(!1))},r()},OGX.ZipCoder=function(e){"use strict";return new OGX.prototype.ZipCoder(e)},OGX.ZipCoder.CHANGE="change";