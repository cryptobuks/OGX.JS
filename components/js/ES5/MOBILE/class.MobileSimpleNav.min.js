if("undefined"==typeof OGX)var OGX=function(){};OGX.prototype.MobileSimpleNav=function(e){function i(e,i){$(document).trigger(f.trigger),p=i,$(f.container).load(f.path+"/"+e,function(){$(f.container).trigger(OGX.MobileSimpleNav.VIEW_LOADED,{file:e,name:i})})}function t(e){var i={};return i.data=f.views[e],i.name=e,i.title=e,i}function a(e){for(var i in f.views)if(f.views[i].file===e)return i;return!1}function n(e){for(var i=0;i<e.data.scopes.length;i++)if(f.scopes.indexOf(e.data.scopes[i])!==-1)return!0;return!1}function o(){for(var e in u)f.hasOwnProperty(e)||(f[e]=u[e])}function r(){o(),$(document).on("backbutton",function(e){e.preventDefault(),$(f.container).trigger(OGX.MobileSimpleNav.NAV_BACK),navigator.app.backHistory()}),$(window).on("popstate",function(e){if(null!==e.originalEvent.state){var i=a(e.originalEvent.state.file);i&&l.loadView(i,!1)}else f.autoExit?navigator.app.exitApp():$(f.container).trigger(OGX.MobileSimpleNav.APP_EXIT)}),f.hasOwnProperty("defaultView")&&f.defaultView&&l.loadView(f.defaultView)}var l=this,f=e,u={path:"/",container:document,trigger:"KILL_VIEWS",autoExit:!0,defaultView:!1,scopes:["public"]},p=null;this.setScopes=function(e){f.scopes=e},this.loadView=function(e,a){if(e!==p){var o=t(e);if("undefined"==typeof a)var a=!0;if(o){if(n(o)){if(a){var r={file:o.data.file,name:e,title:o.title};history.pushState(r,o.data.file,"#"+e)}else{var r=null;history.pushState(r,o.data.file,"#"+e)}return i(o.data.file,o.name),!0}return $(f.container).trigger(OGX.MobileSimpleNav.BAD_SCOPE),l.loadView(f.defaultView,!1),!1}}return!1},r()},OGX.MobileSimpleNav=function(e){"use strict";return new OGX.prototype.MobileSimpleNav(e)},OGX.MobileSimpleNav.BAD_SCOPE="badScope",OGX.MobileSimpleNav.VIEW_LOADED="viewLoaded",OGX.MobileSimpleNav.APP_EXIT="appExit",OGX.MobileSimpleNav.NAV_BACK="navBack";