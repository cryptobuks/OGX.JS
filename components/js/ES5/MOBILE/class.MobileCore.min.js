if(a,"undefined"==typeof OGX){var OGX=function(){};OGX.Views=function(){}}OGX.prototype.MobileCore=function(e){"use strict";function o(e){x[b].popup.el&&(e?x[b].popup.el.on("transitionend",function(){o(!1),i()}):x[b].popup.el.off("transitionend"))}function i(){x[b].popup&&(x[b].popup.view.destroy(),x[b].popup.el.remove(),x[b].popup=!1)}function t(e){e.destroyInternal(),e.hasOwnProperty("destroy")&&e.destroy()}function n(e){e?x[b].overlay.el.on("touchstart",function(e){e.preventDefault(),e.stopImmediatePropagation(),x[b].stage.el.trigger(OGX.MobileCore.OVERLAY_REMOVE),h.removeOverlay(),x[b].popup&&h.removePopup()}):x[b].overlay.el.off("touchstart")}function s(e){l(!1,e);for(var o in x[b].windows[e].views)t(x[b].windows[e].views[o]);x[b].windows[e].views={},x[b].windows[e].el.remove(),x[b].windows[e].destroy(),delete x[b].windows[e]}function a(e,o,i,t,n,s){var a={opac:1,tX:0,tY:0},l=x[b].stage.el.width(),d=x[b].stage.el.height(),p=x[b].windows[e],u=p.el.outerWidth(),f=p.el.outerHeight(),c=p.el.find(".ogx_mobile_window_main_icon:first"),g=p.getTiming();switch(t&&(p.z_index||(p.el.css("z-index",G),G++)),t?(r(e,o,!0),g=g.in,c.removeClass("ogx_mobile_window_main_icon_left ogx_mobile_window_main_icon_right ogx_mobile_window_main_icon_top")):(g=g.out,a.opac=0),o){case OGX.MobileWindow.ANIM_NONE:break;case OGX.MobileWindow.ANIM_TOP:t?(a.tY=0,c.addClass("ogx_mobile_window_main_icon_top")):a.tY=-f;break;case OGX.MobileWindow.ANIM_BOTTOM:t?(a.tY=d-f,c.addClass("ogx_mobile_window_main_icon_bottom")):a.tY=d;break;case OGX.MobileWindow.ANIM_RIGHT:t?(a.tX=l-u,c.addClass("ogx_mobile_window_main_icon_right")):a.tX=l;break;case OGX.MobileWindow.ANIM_LEFT:t?(a.tX=0,c.addClass("ogx_mobile_window_main_icon_left")):a.tX=-u}p.el.css("transition","all "+g+"ms"),"undefined"!=typeof i&&(i.hasOwnProperty("left")&&(a.tX=l-w("width",i.left)),i.hasOwnProperty("top")&&(a.tY=w("height",i.top)),i.hasOwnProperty("right")&&(a.tX=w("width",i.right)));var v=250;t||(v=0),setTimeout(function(){p.el.on("transitionend",function(){p.el.off("transitionend"),t?p.el.removeClass("ogx_mobile_window_anim_in"):p.el.removeClass("ogx_mobile_window_anim_out"),"undefined"!=typeof n&&n&&("undefined"!=typeof s&&s?n.apply(h,[s]):n()),t?(p.status=OGX.MobileWindow.OPENED,x[b].stage.el.trigger(OGX.MobileWindow.OPENED,e),h.focusWindow(e)):(p.status=OGX.MobileWindow.CLOSED,x[b].stage.el.trigger(OGX.MobileWindow.CLOSED,e))}),t?(p.status=OGX.MobileWindow.OPEN,x[b].stage.el.trigger(OGX.MobileWindow.OPEN,e)):(h.blurWindow(e),p.status=OGX.MobileWindow.CLOSE,x[b].stage.el.trigger(OGX.MobileWindow.CLOSE,e)),p.el.css({transform:"translate3D("+a.tX+"px, "+a.tY+"px, 0px)"}).css("opacity",1)},v)}function r(e,o,i){var t=x[b].stage.el.width(),n=x[b].stage.el.height(),s=x[b].windows[e],a=s.el.outerHeight(),r=s.el.outerWidth();switch(s.el.css("transition","none"),o){case OGX.MobileWindow.ANIM_NONE:i&&s.el.css({transform:"translate3D(0px, 0px, 0px)"});break;case OGX.MobileWindow.ANIM_TOP:i&&s.el.css({transform:"translate3D(0px, -"+a+"px, 0px)"});break;case OGX.MobileWindow.ANIM_BOTTOM:i&&s.el.css({transform:"translate3D(0px, "+n+"px, 0px)"});break;case OGX.MobileWindow.ANIM_RIGHT:i&&s.el.css({transform:"translate3D("+t+"px, 0px, 0px)"});break;case OGX.MobileWindow.ANIM_LEFT:i&&(t=s.el.outerWidth(),s.el.css({transform:"translate3D("+-r+"px, 0px, 0px)"}))}i?s.el.css("visibility","visible"):s.el.css("visibility","hidden")}function l(e,o){e?x[b].windows[o].el.on("click",".ogx_mobile_window_back",function(){h.hideWindow(o)}):x[b].windows[o].el.off("click",".ogx_mobile_window_back")}function d(e){e?window.addEventListener("resize",p):window.removeEventListener("resize",p)}function p(){var e,o,i,t,n,s;for(var a in x)e=x[a].stage.el.width(),o=x[a].stage.el.height(),x[a].popup&&x[a].popup.hasOwnProperty("el")&&x[a].popup.el&&(n=x[a].popup.width,s=x[a].popup.height,"string"==typeof n&&n.indexOf("%")!==-1&&(n=Number(n.split("%")[0]),n=Math.round(n*e/100),x[a].popup.el.width(n)),"string"==typeof s&&s.indexOf("%")!==-1&&(s=Number(s.split("%")[0]),s=Math.round(s*o/100)),i=Math.round(e/2-n/2),t=Math.round(o/2-s/2),x[a].popup.el.css("top",t+"px"),x[a].popup.el.css("left",i+"px"))}function w(e,o){var i;return o.indexOf("%")!==-1?(i=o.split("%"),i=parseInt(i[0]),i=Math.round(i*x[b].stage.el[e]()/100)):(i=o.split("px"),i=parseInt(i[0])),i}function u(e,o){$("body").append('<div class="ogx_mobile_stage ogx_hw"></div>'),o.container=$("body").find(".ogx_mobile_stage:last")[0];var i=function(){};i.prototype.MobileBaseStage=OGX.prototype.MobileBaseStage,i.prototype[e]=OGX.prototype[e];var t=new i;return t.MobileBaseStage(o),t[e](),t}function f(e,o){var i=function(){};i.prototype.MobileBaseView=OGX.prototype.MobileBaseView,i.prototype[e]=OGX.Views.prototype[e];var t=new i;return t.MobileBaseView(o),t[e](),setTimeout(function(){t.constructor(o)},50),t}function c(){$(document).on("backbutton",function(e){e.preventDefault(),x[b].over.length>0||($(h.config.container).trigger(OGX.MobileCore.NAV_BACK),navigator.app.backHistory())}),$(window).on("popstate",function(e){null!==e.originalEvent.state||(y.autoExit?navigator.app.exitApp():$(y.container).trigger(OGX.MobileCore.APP_EXIT))})}function g(e){for(var o=0;o<e.length;o++)if(y.scopes.indexOf(e[o])!==-1)return!0;return!1}function v(){for(var e in O)y.hasOwnProperty(e)||(y[e]=O[e]);h.el=$(document)}function _(){v(),c(),d(!0)}var h=this,y=e,O={path:"/",scopes:["public"],auto_exit:!1,overlay_delay:350,views:{}},b=!1,m=!1,x={},M=!1,X=new OGX.ResponsiveGraphics({bind:!1}),G=1e3;this.el=null,this.trigger=function(e,o){h.el.trigger(e,o)},this.bindGfx=function(e,o){X.bind(e,o)},this.unbindGfx=function(e){X.unbind(e)},this.refreshGfx=function(e){X.resize(e)},this.showStageNav=function(){M||(M=new OGX.MobileStageNavigator({}))},this.addStage=function(e,o,i,t){if(x.hasOwnProperty(e))return!1;var n=u(o,i);x[e]={stage:n,windows:{},views:{},overlay:null,snooze:!1},b=e,n.constructor(),n.ux(!0),"undefined"==typeof t&&(t=!0),t&&h.showStage(e)},this.removeStage=function(e){},this.useStage=function(e){b=e},this.snoozeStage=function(e){if(!x[e].snooze){x[e].snooze=!0;for(var o in x[e].stage.views)x[e].stage.views[o].blur();x[e].stage.el=x[e].stage.el.detach()}},this.wakeStage=function(e){if(x[e].snooze){x[e].snooze=!0;for(var o in x[e].stage.views)x[e].stage.views[o].blur();x[m].stage.el.appendTo("body"),x[e].stage.el=$("body").find(".ogx_mobile_stage:last")}},this.showStage=function(e,o){if("undefined"==typeof o&&(o=!1),o){var i=$(window).height();switch(o){case OGX.MobileStage.ANIM_SWAP:x[m].stage.el.on("transitionend",function(){x[m].stage.el.off("transitionend"),x[m].stage.el.css("top",-i+"px"),x[e].stage.el.css("top","0px"),x[e].stage.el.on("transitionend",function(){x[e].stage.el.off("transitionend"),x[e].stage.el.css("transform","scale(1)"),x[m].stage.el.removeClass("ogx_mobile_stage_anim"),x[m].stage.el.css("display","none"),m=e,h.el.trigger(OGX.MobileStage.STAGE_CHANGE,{old:m,new:e})})}),x[e].stage.el.addClass("ogx_mobile_stage_anim"),x[m].stage.el.addClass("ogx_mobile_stage_anim"),x[m].stage.el.css("transform","scale(0.9)"),x[e].stage.el.css("top",i+"px"),x[e].stage.el.css("display","block"),x[e].stage.el.css("transform","scale(0.9)"),x[e].stage.el.addClass("ogx_mobile_stage_anim");break;case OGX.MobileStage.ANIM_FLIP:x[e].stage.el.appendTo("body"),x[e].stage.el.addClass("ogx_mobile_stage_anim_swap"),x[m].stage.el.addClass("ogx_mobile_stage_anim"),x[m].stage.el.addClass("ogx_mobile_stage_anim_flip")}}else m&&x[m].stage.el.css("display","none"),x[e].stage.el.css("display","block"),m=e},this.addToStage=function(e,o,i,t){var n;if("undefined"==typeof i&&(i={}),"undefined"==typeof t&&(t=!0),!OGX.Views.hasOwnProperty(o))return console.log("%c CRITICAL ERROR - OGX.Views."+o+" not found! ","background:#222; color: #FF0000"),!1;OGX.Views[o].hasOwnProperty("scopes")||(OGX.Views[o].scopes=["public"]);var s=g(OGX.Views[o].scopes);s||console.log("bad scope for that view");var a;return i.container=x[b].stage.el.find(e)[0],h.removeFromStage(e),n=f(o,i),x[b].views[e]={view:n,name:o},a={name:o,config:JSON.stringify(i),stage:b},t&&history.pushState(a,"index.html"),!0},this.removeFromStage=function(e){x[b].views.hasOwnProperty(e)&&(t(x[b].views[e].view),delete x[b].views[e])},this.windowExists=function(e){return x[b].windows.hasOwnProperty(e)},this.getWindow=function(e){return!!h.windowExists(e)&&x[b].windows[e]},this.addWindow=function(e,o,i,t){if(h.windowExists(e))return!1;"undefined"==typeof o&&(o={}),o.container=x[b].stage.el[0],o.name=e,o.core=this;var n=new OGX.MobileWindow(o);return"undefined"!=typeof t&&(n.el.css("z-index",t),n.z_index=t),n.snooze=!1,x[b].windows[e]=n,"undefined"!=typeof i&&i&&h.showWindow(e,i),n},this.showWindow=function(e,o,i){var t=x[b].windows[e];t.anim=o,setTimeout(function(){a(e,o,i,!0)},0),l(!0,e)},this.hideWindow=function(e,o,i,t){return!!h.windowExists(e)&&("undefined"==typeof i&&(i=OGX.MobileWindow.ANIM_NONE,x[b].windows[e].anim&&(i=x[b].windows[e].anim)),l(!1,e),setTimeout(function(){a(e,i,t,!1,o,e)},0),x[b].stage.el.trigger(OGX.MobileWindow.CLOSE,e),void x[b].stage.el.trigger(OGX.MobileWindow.CLOSE+"_"+e,e))},this.snoozeWindow=function(e){x[b].windows[e].snooze||(x[b].windows[e].snooze=!0,h.blurWindow(e),x[b].windows[e].el=x[b].windows[e].el.detach())},this.wakeWindow=function(e){x[b].windows[e].snooze&&(x[b].windows[e].snooze=!1,h.focusWindow(e),x[b].windows[e].el=x[b].windows[e].el.detach(),x[b].windows[e].el.appendTo(x[b].stage.el),x[b].windows[e].el=x[b].stage.el.find(".ogx_mobile_window:last"))},this.blurWindow=function(e){for(var o in x[b].windows[e].views)x[b].windows[e].views[o].blur()},this.focusWindow=function(e){for(var o in x[b].windows[e].views)x[b].windows[e].views[o].focus()},this.removeWindow=function(e){return!!h.windowExists(e)&&(s(e),!0)},this.addToWindow=function(e,o,i,t){"undefined"==typeof t&&(t=".ogx_view:first"),i.container=x[b].windows[e].el.find(t),x[b].windows[e].snooze&&h.wakeWindow(e),x[b].windows[e].views.hasOwnProperty(t)&&h.removeFromWindow(e,t);var n=f(o,i);x[b].windows[e].views[t]=n},this.removeFromWindow=function(e,o){return!!x[b].windows[e].views.hasOwnProperty(o)&&(t(x[b].windows[e].views[o]),delete x[b].windows[e].views[o],!0)},this.getWindowView=function(e,o){return"undefined"==typeof o&&(o=".ogx_view:first"),!!x[b].windows[e].views.hasOwnProperty(o)&&x[b].windows[e].views[o]},this.addPopup=function(e){var o={width:"50%",height:"50%",html:!1,title:!1,css:"",view:!1,config:{},buttons:[],anim:OGX.MobileCore.POPUP_FADE,listen_overlay:!1,zindex:0};for(var i in o)e.hasOwnProperty(i)||(e[i]=o[i]);x[b].popup&&(x[b].popup.view.destroy(),x[b].popup.el.remove(),x[b].popup=!1);var t=x[b].stage.el.width(),n=x[b].stage.el.height(),s=e.width,a=e.height;"string"==typeof s&&s.indexOf("%")!==-1&&(s=Number(s.split("%")[0]),s=Math.round(s*t/100)),"string"==typeof a&&a.indexOf("%")!==-1&&(a=Number(a.split("%")[0]),a=Math.round(a*n/100));var r=Math.round(t/2-s/2),l=Math.round(n/2-a/2),d="";e.zindex&&(d="z-index:"+e.zindex+";");var p='<div class="ogx_popup" style="width:'+s+"px; height:"+a+"px; top:"+l+"px; left:"+r+"px; "+d+'">';if(e.title&&(p+='<div class="ogx_popup_title">'+e.title+"</div>"),p+='<div class="ogx_popup_body '+e.css+'">',e.html&&(p+=e.html),p+="</div>",e.buttons.length>0){p+='<div class="ogx_popup_buttons">';for(var w=0;w<e.buttons.length;w++)p+='<span class="ogx_popup_button">'+e.buttons[w]+"</span>";p+="</div>"}p+="</div>",x[b].stage.el.prepend(p);var u=!1;switch(e.view&&(e.config.container=x[b].stage.el.find(".ogx_popup:first").find(".ogx_popup_body:first")[0],u=f(e.view,e.config)),x[b].popup={el:x[b].stage.el.find(".ogx_popup:first"),view:u,name:e.view,anim:e.anim,width:e.width,height:e.height},e.anim){case OGX.MobileCore.POPUP_FADE:setTimeout(function(){x[b].popup.el.removeClass("ogx_popup_fade_out"),x[b].popup.el.addClass("ogx_popup_fade_in")},100);break;case OGX.MobileCore.POPUP_NOANIM:x[b].popup.el.css("opacity",1)}this.addOverlay(e.listen_overlay,OGX.MobileCore.OVERLAY_FADE)},this.removePopup=function(e){if(x[b].popup){var t;switch(t="undefined"!=typeof e?e:x[b].popup.anim){case OGX.MobileCore.POPUP_FADE:o(!0),x[b].popup.el.removeClass("ogx_popup_fade_in"),x[b].popup.el.addClass("ogx_popup_fade_out");break;case OGX.MobileCore.POPUP_NOANIM:i()}}},this.addOverlay=function(e,o,i){if("undefined"==typeof i&&(i=y.overlay_delay),x[b].overlay)x[b].stage.el.off("transitionend");else{var t='<div class="ogx_overlay"></div>';x[b].stage.el.prepend(t),x[b].overlay={el:x[b].stage.el.find(".ogx_overlay:first")},e&&n(!0)}switch(o){case OGX.MobileCore.OVERLAY_FADE:setTimeout(function(){x[b].overlay&&x[b].overlay.el&&(x[b].overlay.el.removeClass("ogx_overlay_fade_out"),x[b].overlay.el.addClass("ogx_overlay_fade_in"))},i);break;default:x[b].overlay&&x[b].overlay.el&&x[b].overlay.el.css("opacity",1)}},this.removeOverlay=function(e){if(x[b].overlay)if(n(!1),"undefined"!=typeof e)switch(e){case OGX.MobileCore.OVERLAY_FADE:x[b].overlay.el.removeClass("ogx_overlay_fade_in"),x[b].overlay.el.addClass("ogx_overlay_fade_out"),x[b].overlay.el.css("opacity")>0?x[b].overlay.el.on("transitionend",function(){x[b].overlay&&x[b].overlay.el&&(x[b].overlay.el.off("transitionend"),x[b].overlay.el.remove(),x[b].overlay=null)}):x[b].overlay&&x[b].overlay.el&&(x[b].overlay.el.removeClass("ogx_overlay_fade_in"),x[b].overlay.el.removeClass("ogx_overlay_fade_out"),x[b].overlay.el.off("transitionend"),x[b].overlay.el.remove(),x[b].overlay=null)}else x[b].overlay&&x[b].overlay.el&&(x[b].overlay.el.remove(),x[b].overlay=null)},this.getOverlay=function(){return!!x[b].overlay&&x[b].overlay.el},this.getView=function(e,o){return!!(x.hasOwnProperty(e)&&x[e].hasOwnProperty("views")&&x[e].views.hasOwnProperty(o)&&x[e].views[o])&&x[e].views[o].view},this.hasView=function(e,o){if(x.hasOwnProperty(e)&&x[e].hasOwnProperty("views"))for(var i in x[e].views)if(x[e].views[i].view.hasOwnProperty("name")&&x[e].views[i].view.name===o)return!0;return!1},this.getViewClass=function(e,o){var i=h.getView(e,o);if(i)for(var t in i.__proto__.constructor.prototype)if("constructor"!==t&&"MobileBaseView"!==t)return t;return!1},this.readFile=function(e,o){},this.writeFile=function(e,o,i){},_()},OGX.MobileCore=function(e){"use strict";return new OGX.prototype.MobileCore(e)},OGX.MobileCore.OVERLAY_FADE="coreOverlayFade",OGX.MobileCore.OVERLAY_REMOVE="coreOverlayRemove",OGX.MobileCore.NAV_BACK="coreNavBack",OGX.MobileCore.APP_EXIT="coreAppExit",OGX.MobileCore.POPUP_NOANIM="corePopupNoAnim",OGX.MobileCore.POPUP_FADE="corePopupAnimFade",OGX.MobileCore.RESIZE="coreResize";