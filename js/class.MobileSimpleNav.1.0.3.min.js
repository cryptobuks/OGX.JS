if(typeof OGX==="undefined"){var OGX=function(){}}OGX.prototype.MobileSimpleNav=function(e){var i=this;var t=e;var a={path:"/",container:document,trigger:"KILL_VIEWS",autoExit:true,defaultView:false,scopes:["public"]};var n=null;this.setScopes=function(e){t.scopes=e};this.loadView=function(e,a){if(e!==n){var l=o(e);if(typeof a==="undefined"){var a=true}if(l){if(f(l)){if(!a){var u=null;history.pushState(u,l.data.file,"#"+e)}else{var u={file:l.data.file,name:e,title:l.title};history.pushState(u,l.data.file,"#"+e)}r(l.data.file,l.name);return true}else{$(t.container).trigger(OGX.MobileSimpleNav.BAD_SCOPE);i.loadView(t.defaultView,false);return false}}}return false};function r(e,i){$(document).trigger(t.trigger);n=i;$(t.container).load(t.path+"/"+e,function(){$(t.container).trigger(OGX.MobileSimpleNav.VIEW_LOADED,{file:e,name:i})})}function o(e){var i={};i.data=t.views[e];i.name=e;i.title=e;return i}function l(e){for(var i in t.views){if(t.views[i].file===e){return i}}return false}function f(e){for(var i=0;i<e.data.scopes.length;i++){if(t.scopes.indexOf(e.data.scopes[i])!==-1){return true}}return false}function u(){for(var e in a){if(!t.hasOwnProperty(e)){t[e]=a[e]}}}function p(){u();$(document).on("backbutton",function(e){e.preventDefault();$(t.container).trigger(OGX.MobileSimpleNav.NAV_BACK);navigator.app.backHistory()});$(window).on("popstate",function(e){if(e.originalEvent.state!==null){var a=l(e.originalEvent.state.file);if(a){i.loadView(a,false)}}else{if(t.autoExit){navigator.app.exitApp()}else{$(t.container).trigger(OGX.MobileSimpleNav.APP_EXIT)}}});if(t.hasOwnProperty("defaultView")&&t.defaultView){i.loadView(t.defaultView)}}p()};OGX.MobileSimpleNav=function(e){"use strict";return new OGX.prototype.MobileSimpleNav(e)};OGX.MobileSimpleNav.BAD_SCOPE="badScope";OGX.MobileSimpleNav.VIEW_LOADED="viewLoaded";OGX.MobileSimpleNav.APP_EXIT="appExit";OGX.MobileSimpleNav.NAV_BACK="navBack";